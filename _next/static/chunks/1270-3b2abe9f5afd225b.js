"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1270],{10810:(t,e,a)=>{a.d(e,{j:()=>o});var r=a(12115),s=a(35695);function o(t){let{enabled:e}=t,[a,o]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),c=(0,s.useSearchParams)(),i=(()=>{let t=c.get("scroll");if(!t)return 100;let e=parseInt(t,10);return isNaN(e)||e<=0?100:e})();(0,r.useLayoutEffect)(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0)},[]);let d=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{scrollSpeed:e=20,startDelay:a=2e3,enabled:s=!0,stopOnUserInteraction:o=!0}=t,n=(0,r.useRef)(void 0),l=(0,r.useRef)(void 0),c=(0,r.useRef)(void 0),i=(0,r.useRef)(!1),d=(0,r.useRef)(!1),f=(0,r.useRef)(void 0),p=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{if(!s||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;i.current=!1;let t=new AbortController,{signal:r}=t,c=()=>{i.current||(i.current=!0,void 0!==n.current&&(cancelAnimationFrame(n.current),n.current=void 0),t.abort())},m=t=>{if(i.current)return;if(d.current){n.current=requestAnimationFrame(m);return}void 0===l.current&&(l.current=t);let a=(t-l.current)/1e3*e;window.scrollTo(0,a);let r=window.innerHeight,s=document.documentElement.scrollHeight;if(window.scrollY+r>=s-10)return void c();n.current=requestAnimationFrame(m)};return p.current=m,f.current=setTimeout(()=>{if(!i.current){if(o){let t={passive:!0,signal:r};window.addEventListener("wheel",c,t),window.addEventListener("touchstart",c,t),window.addEventListener("mousedown",c,{signal:r}),window.addEventListener("keydown",c,{signal:r})}n.current=requestAnimationFrame(m)}},a),()=>{void 0!==f.current&&(clearTimeout(f.current),f.current=void 0),c()}},[e,a,s]),{pause:(0,r.useCallback)(()=>{d.current||i.current||(d.current=!0,c.current=window.scrollY)},[]),resume:(0,r.useCallback)(()=>{if(!d.current||i.current)return;let t=window.scrollY/e*1e3;l.current=performance.now()-t,d.current=!1},[e]),isPaused:d.current}}({enabled:e&&a,scrollSpeed:i,startDelay:2e3,stopOnUserInteraction:!1});return(0,r.useEffect)(()=>{if(!e||!a)return;let t=()=>{n||(d.pause(),l(!0))};return window.addEventListener("wheel",t,{passive:!0}),window.addEventListener("touchstart",t,{passive:!0}),()=>{window.removeEventListener("wheel",t),window.removeEventListener("touchstart",t)}},[e,a,n,d]),{envelopeOpened:a,isPaused:n,scrollSpeed:i,handleEnvelopeOpen:()=>{o(!0)},handleInvitationClick:t=>{if(t.target.closest("img, button, a, input, textarea, select, video, audio, dialog")){n||(d.pause(),l(!0));return}n?(d.resume(),l(!1)):(d.pause(),l(!0))},autoScrollControls:d}}},23843:(t,e,a)=>{a.d(e,{$:()=>r});let r={get apiUrl(){return function(){let t="https://api.chungdoi.com";{let e=window.location.hostname;if("chungdoi.com"===e||"www.chungdoi.com"===e)return t;if(e.includes("ngrok")||/^(192\.168\.|172\.(1[6-9]|2[0-9]|3[01])\.|10\.)/.test(e))return"/backend-api"}return t}()},baseUrl:"https://chungdoi.com",googleMapsApiKey:"AIzaSyAY8WQxGig6axA_jZil94btO9G6dhsFEKg",gaId:"G-BQD5YB7KSP",nodeEnv:"production",isDevelopment:!1,isProduction:!0};r.isDevelopment&&console.log("Client Config:",{apiUrl:r.apiUrl,baseUrl:r.baseUrl,googleMapsApiKey:r.googleMapsApiKey?"***":"Not set",gaId:r.gaId?"***":"Not set"})},31335:(t,e,a)=>{a.d(e,{Fi:()=>d,MO:()=>m,c5:()=>o,do:()=>f,f0:()=>i,u4:()=>n,uN:()=>p});var r=a(72341);let s={};function o(t){s={...s,...t}}function n(t,e){let a={...s,...e};window.umami&&window.umami.track(t,a),window.gtag&&l&&window.gtag("event",t,a);try{r.Ay.capture(t,a)}catch(t){}}let l="G-BQD5YB7KSP",c=()=>!!(l&&window.gtag),i=(t,e)=>{n(t,e)},d=t=>{var e,a;c()&&(null==(e=(a=window).gtag)||e.call(a,"set","user_properties",t))},f=t=>{var e,a;c()&&(null==(e=(a=window).gtag)||e.call(a,"config",l,{user_id:null!=t?t:void 0}))},p=t=>{let e="string"==typeof t?new Date(t):t;return Math.ceil(Math.abs(new Date().getTime()-e.getTime())/864e5)},m=t=>"happy"===t.toLowerCase()?99:199},49129:(t,e,a)=>{a.d(e,{m:()=>g});var r=a(95155),s=a(11518),o=a.n(s),n=a(12115),l=a(41572);function c(t){let e=t.toLowerCase();return e.includes("vuonxuan")||e.includes("garden")||e.includes("floral")?"petals":e.includes("songlong")&&!e.includes("blue")||e.includes("longphung")||e.includes("traditional")||e.includes("classic")?"sparkles":"hearts"}function i(t,e){let a=t.replace("#",""),r=parseInt(a.substr(0,2),16),s=parseInt(a.substr(2,2),16),o=parseInt(a.substr(4,2),16);return"rgba(".concat(r,", ").concat(s,", ").concat(o,", ").concat(e,")")}function d(t,e){let a=t.replace("#",""),r=Math.max(0,parseInt(a.substr(0,2),16)-e),s=Math.max(0,parseInt(a.substr(2,2),16)-e),o=Math.max(0,parseInt(a.substr(4,2),16)-e);return"rgb(".concat(r,", ").concat(s,", ").concat(o,")")}let f={background:"linear-gradient(to bottom right, #fff1f2, #fce7f3, #f5d0fe)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#e11d48",textPrimary:"#1f2937",textSecondary:"rgba(31, 41, 55, 0.7)",accent:"#f43f5e",dividerFrom:"transparent",dividerTo:"rgba(244, 63, 94, 0.5)",buttonBg:"#f43f5e",buttonText:"#ffffff",guestBoxBg:"rgba(255, 255, 255, 0.6)",guestBoxBorder:"rgba(244, 63, 94, 0.3)",dots:["#f43f5e","#ec4899","#a855f7"],particleColors:["#f43f5e","#ec4899","#a855f7","#FFB6C1"],particleType:"hearts"},p={songlong_red:{background:"linear-gradient(to bottom right, #CD5C5C, #B54545, #8B3A3A)",cardBg:"rgba(255, 248, 240, 0.95)",flapBg:"#8B3A3A",textPrimary:"#8B4513",textSecondary:"rgba(139, 69, 19, 0.8)",accent:"#FFD700",buttonBg:"#FFD700",buttonText:"#8B4513",guestBoxBg:"rgba(139, 69, 19, 0.1)",particleColors:["#FFD700","#FFC107","#FF6B6B","#FFE066"]},songlong_green:{background:"linear-gradient(to bottom right, #2a4d32, #1f3a25, #152a1b)",cardBg:"rgba(255, 254, 247, 0.95)",flapBg:"#a8741a",textPrimary:"#a8741a",textSecondary:"rgba(168, 116, 26, 0.8)",accent:"#d4af37",buttonBg:"#d4af37",buttonText:"#1f3a25",guestBoxBg:"rgba(212, 175, 55, 0.15)",particleColors:["#d4af37","#FFD700","#ece8d6","#a8741a"]},songlong_blue:{background:"linear-gradient(to bottom right, #d8a7a7, #c99999, #b88888)",cardBg:"rgba(255, 250, 250, 0.95)",flapBg:"#8b6666",textPrimary:"#4a3333",textSecondary:"rgba(74, 51, 51, 0.8)",accent:"#8b5a5a",buttonBg:"#8b5a5a",buttonText:"#fff5f5",guestBoxBg:"rgba(255, 245, 245, 0.6)",particleColors:["#FFB6C1","#FF69B4","#FFC0CB","#fff5f5"]},vuonxuan_green:{background:"linear-gradient(to bottom right, #f0f4ef, #e8ede6, #dfe5dd)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#4a5a44",textPrimary:"#5d6a57",textSecondary:"rgba(93, 106, 87, 0.7)",accent:"#697a62",buttonBg:"#5d6a57",buttonText:"#ffffff",particleColors:["#90EE90","#98FB98","#F0FFF0","#bdcdc1"]},vuonxuan_red:{background:"linear-gradient(to bottom right, #fff5f5, #ffefef, #ffe8e8)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#a84448",textPrimary:"#D25F65",textSecondary:"rgba(210, 95, 101, 0.7)",accent:"#b54b51",buttonBg:"#D25F65",buttonText:"#ffffff",particleColors:["#FF6B6B","#FFB6C1","#FFC0CB","#f5c4c8"]},vuonxuan_blue:{background:"linear-gradient(to bottom right, #f0f7fa, #e8f2f6, #dfedf2)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#3a5a6a",textPrimary:"#486C7D",textSecondary:"rgba(72, 108, 125, 0.7)",accent:"#3a5666",buttonBg:"#486C7D",buttonText:"#ffffff",particleColors:["#87CEEB","#B0E0E6","#E0FFFF","#a4c4d4"]},longphung_red:{background:"linear-gradient(to bottom right, #680e0e, #4b0606, #360202)",cardBg:"rgba(60, 10, 10, 0.95)",flapBg:"#2a0101",textPrimary:"#e9ce9e",textSecondary:"rgba(233, 206, 158, 0.8)",accent:"#e9ce9e",buttonBg:"#e9ce9e",buttonText:"#360202",guestBoxBg:"rgba(233, 206, 158, 0.15)",particleColors:["#FFD700","#e9ce9e","#FF6B6B","#FFC107"]},longphung_green:{background:"linear-gradient(to bottom right, #162614, #0f1a0e, #0a0f09)",cardBg:"rgba(15, 25, 15, 0.95)",flapBg:"#050805",textPrimary:"#e9ce9e",textSecondary:"rgba(233, 206, 158, 0.8)",accent:"#e9ce9e",buttonBg:"#e9ce9e",buttonText:"#0a0f09",guestBoxBg:"rgba(233, 206, 158, 0.15)",particleColors:["#FFD700","#e9ce9e","#90EE90","#FFC107"]},longphung_blue:{background:"linear-gradient(to bottom right, #0A202F, #061420, #030a11)",cardBg:"rgba(10, 25, 40, 0.95)",flapBg:"#020608",textPrimary:"#e9ce9e",textSecondary:"rgba(233, 206, 158, 0.8)",accent:"#e9ce9e",buttonBg:"#e9ce9e",buttonText:"#030a11",guestBoxBg:"rgba(233, 206, 158, 0.15)",particleColors:["#FFD700","#e9ce9e","#87CEEB","#FFC107"]},anhdao_pink:{background:"linear-gradient(to bottom right, #ba4a59, #ae4c51, #9e3c41)",cardBg:"rgba(255, 245, 247, 0.95)",flapBg:"#7a2a35",textPrimary:"#8a3a45",textSecondary:"rgba(138, 58, 69, 0.8)",accent:"#ba4a59",buttonBg:"#ba4a59",buttonText:"#ffffff",guestBoxBg:"rgba(186, 74, 89, 0.1)",particleColors:["#FFB6C1","#FFC0CB","#ffffff","#FF69B4"]},chibi_red:{background:"linear-gradient(to bottom right, #fff0f0, #ffe8e8, #ffe0e0)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#a83a3a",textPrimary:"#c44d4d",textSecondary:"rgba(196, 77, 77, 0.7)",accent:"#c44d4d",buttonBg:"#c44d4d",buttonText:"#ffffff",particleColors:["#FF6B6B","#FFB6C1","#FFC0CB","#FF69B4"]},thanhdiep_green:{background:"linear-gradient(to bottom right, #23381E, #1f3219, #1a2b15)",cardBg:"rgba(255, 255, 255, 0.95)",flapBg:"#1a2b15",textPrimary:"#4E6439",textSecondary:"rgba(78, 100, 57, 0.7)",accent:"#4E6439",buttonBg:"#4E6439",buttonText:"#ffffff",guestBoxBg:"rgba(78, 100, 57, 0.1)",particleColors:["#90EE90","#98FB98","#4E6439","#bdcdc1"]}},m=t=>{if(!t)return null;try{let e=new Date(t);if(isNaN(e.getTime()))return null;let a=e.getDate(),r=e.getMonth()+1,s=e.getFullYear();return"".concat(a," th\xe1ng ").concat(r,", ").concat(s)}catch(t){return null}};function g(t){let{guestName:e,groomName:a,brideName:s,weddingDate:g,templateId:x,onOpen:y,audioRef:u}=t,[h,b]=(0,n.useState)("idle"),[v,w]=(0,n.useState)([]),[k,z]=(0,n.useState)([]),j=(0,n.useMemo)(()=>(function(t){if(!t)return f;let e=p[t];if(e){var a;let r=c(t);return{...f,...e,particleType:r,dots:(null==(a=e.particleColors)?void 0:a.slice(0,3))||f.dots}}let r=function(t){let e=l.As[t];if(!e)return null;let{colors:a}=e,r=function(t){let e=t.replace("#",""),a=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16);return(.299*a+.587*r+.114*parseInt(e.substr(4,2),16))/255<.5}(a.background),s=c(t),o=r?a.text:a.primary,n=i(o,.8),f=r?a.accent:a.primary,p=a.background,m=r?a.secondary||a.primary:a.background;return{background:"linear-gradient(to bottom right, ".concat(a.primary,", ").concat(m,", ").concat(p,")"),cardBg:r?i(a.background,.95):"rgba(255, 255, 255, 0.95)",flapBg:r?d(a.primary,30):d(a.primary,20),textPrimary:o,textSecondary:n,accent:f,dividerFrom:"transparent",dividerTo:i(f,.5),buttonBg:f,buttonText:r?a.background:"#ffffff",guestBoxBg:i(r?a.background:"#ffffff",r?.3:.7),guestBoxBorder:i(f,.4),dots:[f,a.secondary||f,a.primary],particleColors:[f,a.secondary||f,a.primary,o],particleType:s}}(t);return r||f})(x),[x]),B=m(g),T=(0,n.useCallback)(()=>{let t=[];for(let e=0;e<32;e++){let a=2*Math.PI*e/32+(Math.random()-.5)*.4,r=25+60*Math.random();t.push({id:e,x:50+Math.cos(a)*r,y:50+Math.sin(a)*r,color:j.particleColors[Math.floor(Math.random()*j.particleColors.length)],size:10+16*Math.random(),type:"hearts"===j.particleType?"heart":"petals"===j.particleType?"petal":"sparkle",rotStart:(Math.random()-.5)*30,rotEnd:(Math.random()-.5)*360,delay:.15*Math.random()})}return t},[j.particleColors,j.particleType]),F=(0,n.useCallback)(()=>{let t=[];for(let e=0;e<12;e++)t.push({id:e,x:5+90*Math.random(),color:j.particleColors[Math.floor(Math.random()*j.particleColors.length)],size:10+14*Math.random(),type:"hearts"===j.particleType?"heart":"petals"===j.particleType?"petal":"sparkle",duration:12+10*Math.random(),delay:.3*e-2.5,sway:(Math.random()-.5)*60});return t},[j.particleColors,j.particleType]),C=(0,n.useCallback)(()=>{try{let t=new(window.AudioContext||window.webkitAudioContext),e=t.currentTime;[523.25,659.25,783.99,1046.5].forEach((a,r)=>{let s=t.createOscillator(),o=t.createGain();s.connect(o),o.connect(t.destination),s.type="sine";let n=e+.1*r;s.frequency.setValueAtTime(a,n),o.gain.setValueAtTime(0,e),o.gain.linearRampToValueAtTime(.035-.005*r,n+.01),o.gain.exponentialRampToValueAtTime(.001,n+1.8),s.start(n),s.stop(n+1.8)}),[1567.98,2093].forEach((a,r)=>{let s=t.createOscillator(),o=t.createGain();s.connect(o),o.connect(t.destination),s.type="sine";let n=e+.35+.1*r;s.frequency.setValueAtTime(a,n),o.gain.setValueAtTime(0,e),o.gain.linearRampToValueAtTime(.015,n+.02),o.gain.exponentialRampToValueAtTime(.001,n+1.2),s.start(n),s.stop(n+1.2)});let a=t.createOscillator(),r=t.createGain(),s=t.createBiquadFilter();a.connect(s),s.connect(r),r.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(261.63,e),s.type="lowpass",s.frequency.value=400,r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(.025,e+.4),r.gain.setValueAtTime(.02,e+1),r.gain.exponentialRampToValueAtTime(.001,e+2.5),a.start(e),a.stop(e+2.5),setTimeout(()=>{[783.99,987.77,1174.66,1567.98].forEach((e,a)=>{let r=t.createOscillator(),s=t.createGain();r.connect(s),s.connect(t.destination),r.type="sine";let o=t.currentTime+.06*a;r.frequency.setValueAtTime(e,o),s.gain.setValueAtTime(0,t.currentTime),s.gain.linearRampToValueAtTime(.025,o+.01),s.gain.exponentialRampToValueAtTime(.001,o+.6),r.start(o),r.stop(o+.6)})},1200)}catch(t){}},[]);if((0,n.useEffect)(()=>{z(F())},[F]),(0,n.useEffect)(()=>{if(v.length>0){let t=setTimeout(()=>w([]),1500);return()=>clearTimeout(t)}},[v]),"done"===h)return null;let E="opening"===h||"rising"===h||"away"===h;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{id:"9fed08a7f35c6a70",children:"@-webkit-keyframes flap-open{0%{-webkit-transform:perspective(800px)rotatex(0deg)translatez(0px);transform:perspective(800px)rotatex(0deg)translatez(0px)}8%{-webkit-transform:perspective(800px)rotatex(-8deg)translatez(2px);transform:perspective(800px)rotatex(-8deg)translatez(2px)}15%{-webkit-transform:perspective(800px)rotatex(-25deg)translatez(4px);transform:perspective(800px)rotatex(-25deg)translatez(4px)}35%{-webkit-transform:perspective(800px)rotatex(-120deg)translatez(6px);transform:perspective(800px)rotatex(-120deg)translatez(6px)}55%{-webkit-transform:perspective(800px)rotatex(-165deg)translatez(4px);transform:perspective(800px)rotatex(-165deg)translatez(4px)}68%{-webkit-transform:perspective(800px)rotatex(-182deg)translatez(2px);transform:perspective(800px)rotatex(-182deg)translatez(2px)}80%{-webkit-transform:perspective(800px)rotatex(-168deg)translatez(1px);transform:perspective(800px)rotatex(-168deg)translatez(1px)}90%{-webkit-transform:perspective(800px)rotatex(-174deg)translatez(0px);transform:perspective(800px)rotatex(-174deg)translatez(0px)}100%{-webkit-transform:perspective(800px)rotatex(-172deg)translatez(0px);transform:perspective(800px)rotatex(-172deg)translatez(0px)}}@-moz-keyframes flap-open{0%{-moz-transform:perspective(800px)rotatex(0deg)translatez(0px);transform:perspective(800px)rotatex(0deg)translatez(0px)}8%{-moz-transform:perspective(800px)rotatex(-8deg)translatez(2px);transform:perspective(800px)rotatex(-8deg)translatez(2px)}15%{-moz-transform:perspective(800px)rotatex(-25deg)translatez(4px);transform:perspective(800px)rotatex(-25deg)translatez(4px)}35%{-moz-transform:perspective(800px)rotatex(-120deg)translatez(6px);transform:perspective(800px)rotatex(-120deg)translatez(6px)}55%{-moz-transform:perspective(800px)rotatex(-165deg)translatez(4px);transform:perspective(800px)rotatex(-165deg)translatez(4px)}68%{-moz-transform:perspective(800px)rotatex(-182deg)translatez(2px);transform:perspective(800px)rotatex(-182deg)translatez(2px)}80%{-moz-transform:perspective(800px)rotatex(-168deg)translatez(1px);transform:perspective(800px)rotatex(-168deg)translatez(1px)}90%{-moz-transform:perspective(800px)rotatex(-174deg)translatez(0px);transform:perspective(800px)rotatex(-174deg)translatez(0px)}100%{-moz-transform:perspective(800px)rotatex(-172deg)translatez(0px);transform:perspective(800px)rotatex(-172deg)translatez(0px)}}@-o-keyframes flap-open{0%{transform:perspective(800px)rotatex(0deg)translatez(0px)}8%{transform:perspective(800px)rotatex(-8deg)translatez(2px)}15%{transform:perspective(800px)rotatex(-25deg)translatez(4px)}35%{transform:perspective(800px)rotatex(-120deg)translatez(6px)}55%{transform:perspective(800px)rotatex(-165deg)translatez(4px)}68%{transform:perspective(800px)rotatex(-182deg)translatez(2px)}80%{transform:perspective(800px)rotatex(-168deg)translatez(1px)}90%{transform:perspective(800px)rotatex(-174deg)translatez(0px)}100%{transform:perspective(800px)rotatex(-172deg)translatez(0px)}}@keyframes flap-open{0%{-webkit-transform:perspective(800px)rotatex(0deg)translatez(0px);-moz-transform:perspective(800px)rotatex(0deg)translatez(0px);transform:perspective(800px)rotatex(0deg)translatez(0px)}8%{-webkit-transform:perspective(800px)rotatex(-8deg)translatez(2px);-moz-transform:perspective(800px)rotatex(-8deg)translatez(2px);transform:perspective(800px)rotatex(-8deg)translatez(2px)}15%{-webkit-transform:perspective(800px)rotatex(-25deg)translatez(4px);-moz-transform:perspective(800px)rotatex(-25deg)translatez(4px);transform:perspective(800px)rotatex(-25deg)translatez(4px)}35%{-webkit-transform:perspective(800px)rotatex(-120deg)translatez(6px);-moz-transform:perspective(800px)rotatex(-120deg)translatez(6px);transform:perspective(800px)rotatex(-120deg)translatez(6px)}55%{-webkit-transform:perspective(800px)rotatex(-165deg)translatez(4px);-moz-transform:perspective(800px)rotatex(-165deg)translatez(4px);transform:perspective(800px)rotatex(-165deg)translatez(4px)}68%{-webkit-transform:perspective(800px)rotatex(-182deg)translatez(2px);-moz-transform:perspective(800px)rotatex(-182deg)translatez(2px);transform:perspective(800px)rotatex(-182deg)translatez(2px)}80%{-webkit-transform:perspective(800px)rotatex(-168deg)translatez(1px);-moz-transform:perspective(800px)rotatex(-168deg)translatez(1px);transform:perspective(800px)rotatex(-168deg)translatez(1px)}90%{-webkit-transform:perspective(800px)rotatex(-174deg)translatez(0px);-moz-transform:perspective(800px)rotatex(-174deg)translatez(0px);transform:perspective(800px)rotatex(-174deg)translatez(0px)}100%{-webkit-transform:perspective(800px)rotatex(-172deg)translatez(0px);-moz-transform:perspective(800px)rotatex(-172deg)translatez(0px);transform:perspective(800px)rotatex(-172deg)translatez(0px)}}@-webkit-keyframes card-rise{0%{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{-webkit-transform:translatey(-90px)scale(1.02);transform:translatey(-90px)scale(1.02)}70%{-webkit-transform:translatey(-75px)scale(1.01);transform:translatey(-75px)scale(1.01)}85%{-webkit-transform:translatey(-82px)scale(1.005);transform:translatey(-82px)scale(1.005)}100%{-webkit-transform:translatey(-80px)scale(1);transform:translatey(-80px)scale(1)}}@-moz-keyframes card-rise{0%{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{-moz-transform:translatey(-90px)scale(1.02);transform:translatey(-90px)scale(1.02)}70%{-moz-transform:translatey(-75px)scale(1.01);transform:translatey(-75px)scale(1.01)}85%{-moz-transform:translatey(-82px)scale(1.005);transform:translatey(-82px)scale(1.005)}100%{-moz-transform:translatey(-80px)scale(1);transform:translatey(-80px)scale(1)}}@-o-keyframes card-rise{0%{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{-o-transform:translatey(-90px)scale(1.02);transform:translatey(-90px)scale(1.02)}70%{-o-transform:translatey(-75px)scale(1.01);transform:translatey(-75px)scale(1.01)}85%{-o-transform:translatey(-82px)scale(1.005);transform:translatey(-82px)scale(1.005)}100%{-o-transform:translatey(-80px)scale(1);transform:translatey(-80px)scale(1)}}@keyframes card-rise{0%{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{-webkit-transform:translatey(-90px)scale(1.02);-moz-transform:translatey(-90px)scale(1.02);-o-transform:translatey(-90px)scale(1.02);transform:translatey(-90px)scale(1.02)}70%{-webkit-transform:translatey(-75px)scale(1.01);-moz-transform:translatey(-75px)scale(1.01);-o-transform:translatey(-75px)scale(1.01);transform:translatey(-75px)scale(1.01)}85%{-webkit-transform:translatey(-82px)scale(1.005);-moz-transform:translatey(-82px)scale(1.005);-o-transform:translatey(-82px)scale(1.005);transform:translatey(-82px)scale(1.005)}100%{-webkit-transform:translatey(-80px)scale(1);-moz-transform:translatey(-80px)scale(1);-o-transform:translatey(-80px)scale(1);transform:translatey(-80px)scale(1)}}@-webkit-keyframes envelope-away{0%{-webkit-transform:translatey(0)scale(1)rotate(0deg);transform:translatey(0)scale(1)rotate(0deg);opacity:1}15%{-webkit-transform:translatey(10px)scale(1.02)rotate(.5deg);transform:translatey(10px)scale(1.02)rotate(.5deg);opacity:1}100%{-webkit-transform:translatey(-120vh)scale(.9)rotate(-2deg);transform:translatey(-120vh)scale(.9)rotate(-2deg);opacity:0}}@-moz-keyframes envelope-away{0%{-moz-transform:translatey(0)scale(1)rotate(0deg);transform:translatey(0)scale(1)rotate(0deg);opacity:1}15%{-moz-transform:translatey(10px)scale(1.02)rotate(.5deg);transform:translatey(10px)scale(1.02)rotate(.5deg);opacity:1}100%{-moz-transform:translatey(-120vh)scale(.9)rotate(-2deg);transform:translatey(-120vh)scale(.9)rotate(-2deg);opacity:0}}@-o-keyframes envelope-away{0%{-o-transform:translatey(0)scale(1)rotate(0deg);transform:translatey(0)scale(1)rotate(0deg);opacity:1}15%{-o-transform:translatey(10px)scale(1.02)rotate(.5deg);transform:translatey(10px)scale(1.02)rotate(.5deg);opacity:1}100%{-o-transform:translatey(-120vh)scale(.9)rotate(-2deg);transform:translatey(-120vh)scale(.9)rotate(-2deg);opacity:0}}@keyframes envelope-away{0%{-webkit-transform:translatey(0)scale(1)rotate(0deg);-moz-transform:translatey(0)scale(1)rotate(0deg);-o-transform:translatey(0)scale(1)rotate(0deg);transform:translatey(0)scale(1)rotate(0deg);opacity:1}15%{-webkit-transform:translatey(10px)scale(1.02)rotate(.5deg);-moz-transform:translatey(10px)scale(1.02)rotate(.5deg);-o-transform:translatey(10px)scale(1.02)rotate(.5deg);transform:translatey(10px)scale(1.02)rotate(.5deg);opacity:1}100%{-webkit-transform:translatey(-120vh)scale(.9)rotate(-2deg);-moz-transform:translatey(-120vh)scale(.9)rotate(-2deg);-o-transform:translatey(-120vh)scale(.9)rotate(-2deg);transform:translatey(-120vh)scale(.9)rotate(-2deg);opacity:0}}@-webkit-keyframes particle-burst{0%{opacity:0;-webkit-transform:translate(-50%,-50%)scale(0)rotate(0deg);transform:translate(-50%,-50%)scale(0)rotate(0deg)}15%{opacity:1;-webkit-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg))}100%{opacity:0;-webkit-transform:translate(-webkit-calc(-50% + var(--dx)),-webkit-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(-webkit-calc(-50% + var(--dx)),-webkit-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg))}}@-moz-keyframes particle-burst{0%{opacity:0;-moz-transform:translate(-50%,-50%)scale(0)rotate(0deg);transform:translate(-50%,-50%)scale(0)rotate(0deg)}15%{opacity:1;-moz-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg))}100%{opacity:0;-moz-transform:translate(-moz-calc(-50% + var(--dx)),-moz-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(-moz-calc(-50% + var(--dx)),-moz-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg))}}@-o-keyframes particle-burst{0%{opacity:0;-o-transform:translate(-50%,-50%)scale(0)rotate(0deg);transform:translate(-50%,-50%)scale(0)rotate(0deg)}15%{opacity:1;-o-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg))}100%{opacity:0;-o-transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg))}}@keyframes particle-burst{0%{opacity:0;-webkit-transform:translate(-50%,-50%)scale(0)rotate(0deg);-moz-transform:translate(-50%,-50%)scale(0)rotate(0deg);-o-transform:translate(-50%,-50%)scale(0)rotate(0deg);transform:translate(-50%,-50%)scale(0)rotate(0deg)}15%{opacity:1;-webkit-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));-moz-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));-o-transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg));transform:translate(-50%,-50%)scale(1.3)rotate(var(--rot-start,15deg))}100%{opacity:0;-webkit-transform:translate(-webkit-calc(-50% + var(--dx)),-webkit-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));-moz-transform:translate(-moz-calc(-50% + var(--dx)),-moz-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));-o-transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(-webkit-calc(-50% + var(--dx)),-webkit-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(-moz-calc(-50% + var(--dx)),-moz-calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg));transform:translate(calc(-50% + var(--dx)),calc(-50% + var(--dy)))scale(.6)rotate(var(--rot-end,180deg))}}@-webkit-keyframes particle-float{0%,100%{-webkit-transform:translatey(0)rotate(0deg);transform:translatey(0)rotate(0deg);opacity:.6}25%{-webkit-transform:translatey(-8px)rotate(5deg);transform:translatey(-8px)rotate(5deg);opacity:.8}50%{-webkit-transform:translatey(-15px)rotate(-3deg);transform:translatey(-15px)rotate(-3deg);opacity:.7}75%{-webkit-transform:translatey(-8px)rotate(8deg);transform:translatey(-8px)rotate(8deg);opacity:.8}}@-moz-keyframes particle-float{0%,100%{-moz-transform:translatey(0)rotate(0deg);transform:translatey(0)rotate(0deg);opacity:.6}25%{-moz-transform:translatey(-8px)rotate(5deg);transform:translatey(-8px)rotate(5deg);opacity:.8}50%{-moz-transform:translatey(-15px)rotate(-3deg);transform:translatey(-15px)rotate(-3deg);opacity:.7}75%{-moz-transform:translatey(-8px)rotate(8deg);transform:translatey(-8px)rotate(8deg);opacity:.8}}@-o-keyframes particle-float{0%,100%{-o-transform:translatey(0)rotate(0deg);transform:translatey(0)rotate(0deg);opacity:.6}25%{-o-transform:translatey(-8px)rotate(5deg);transform:translatey(-8px)rotate(5deg);opacity:.8}50%{-o-transform:translatey(-15px)rotate(-3deg);transform:translatey(-15px)rotate(-3deg);opacity:.7}75%{-o-transform:translatey(-8px)rotate(8deg);transform:translatey(-8px)rotate(8deg);opacity:.8}}@keyframes particle-float{0%,100%{-webkit-transform:translatey(0)rotate(0deg);-moz-transform:translatey(0)rotate(0deg);-o-transform:translatey(0)rotate(0deg);transform:translatey(0)rotate(0deg);opacity:.6}25%{-webkit-transform:translatey(-8px)rotate(5deg);-moz-transform:translatey(-8px)rotate(5deg);-o-transform:translatey(-8px)rotate(5deg);transform:translatey(-8px)rotate(5deg);opacity:.8}50%{-webkit-transform:translatey(-15px)rotate(-3deg);-moz-transform:translatey(-15px)rotate(-3deg);-o-transform:translatey(-15px)rotate(-3deg);transform:translatey(-15px)rotate(-3deg);opacity:.7}75%{-webkit-transform:translatey(-8px)rotate(8deg);-moz-transform:translatey(-8px)rotate(8deg);-o-transform:translatey(-8px)rotate(8deg);transform:translatey(-8px)rotate(8deg);opacity:.8}}@-webkit-keyframes seal-pulse{0%,100%{-webkit-transform:translate(-50%,-50%)scale(1);transform:translate(-50%,-50%)scale(1);-webkit-box-shadow:0 4px 20px var(--shadow-color);box-shadow:0 4px 20px var(--shadow-color)}50%{-webkit-transform:translate(-50%,-50%)scale(1.06);transform:translate(-50%,-50%)scale(1.06);-webkit-box-shadow:0 6px 35px var(--shadow-color);box-shadow:0 6px 35px var(--shadow-color)}}@-moz-keyframes seal-pulse{0%,100%{-moz-transform:translate(-50%,-50%)scale(1);transform:translate(-50%,-50%)scale(1);-moz-box-shadow:0 4px 20px var(--shadow-color);box-shadow:0 4px 20px var(--shadow-color)}50%{-moz-transform:translate(-50%,-50%)scale(1.06);transform:translate(-50%,-50%)scale(1.06);-moz-box-shadow:0 6px 35px var(--shadow-color);box-shadow:0 6px 35px var(--shadow-color)}}@-o-keyframes seal-pulse{0%,100%{-o-transform:translate(-50%,-50%)scale(1);transform:translate(-50%,-50%)scale(1);box-shadow:0 4px 20px var(--shadow-color)}50%{-o-transform:translate(-50%,-50%)scale(1.06);transform:translate(-50%,-50%)scale(1.06);box-shadow:0 6px 35px var(--shadow-color)}}@keyframes seal-pulse{0%,100%{-webkit-transform:translate(-50%,-50%)scale(1);-moz-transform:translate(-50%,-50%)scale(1);-o-transform:translate(-50%,-50%)scale(1);transform:translate(-50%,-50%)scale(1);-webkit-box-shadow:0 4px 20px var(--shadow-color);-moz-box-shadow:0 4px 20px var(--shadow-color);box-shadow:0 4px 20px var(--shadow-color)}50%{-webkit-transform:translate(-50%,-50%)scale(1.06);-moz-transform:translate(-50%,-50%)scale(1.06);-o-transform:translate(-50%,-50%)scale(1.06);transform:translate(-50%,-50%)scale(1.06);-webkit-box-shadow:0 6px 35px var(--shadow-color);-moz-box-shadow:0 6px 35px var(--shadow-color);box-shadow:0 6px 35px var(--shadow-color)}}@-webkit-keyframes seal-break{0%{-webkit-transform:translate(-50%,-50%)scale(1)rotate(0deg);transform:translate(-50%,-50%)scale(1)rotate(0deg);opacity:1;-webkit-filter:brightness(1);filter:brightness(1)}30%{-webkit-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);transform:translate(-50%,-50%)scale(1.4)rotate(5deg);opacity:.9;-webkit-filter:brightness(1.3);filter:brightness(1.3)}60%{-webkit-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);opacity:.5;-webkit-filter:brightness(1.5);filter:brightness(1.5)}100%{-webkit-transform:translate(-50%,-50%)scale(0)rotate(15deg);transform:translate(-50%,-50%)scale(0)rotate(15deg);opacity:0;-webkit-filter:brightness(2);filter:brightness(2)}}@-moz-keyframes seal-break{0%{-moz-transform:translate(-50%,-50%)scale(1)rotate(0deg);transform:translate(-50%,-50%)scale(1)rotate(0deg);opacity:1;filter:brightness(1)}30%{-moz-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);transform:translate(-50%,-50%)scale(1.4)rotate(5deg);opacity:.9;filter:brightness(1.3)}60%{-moz-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);opacity:.5;filter:brightness(1.5)}100%{-moz-transform:translate(-50%,-50%)scale(0)rotate(15deg);transform:translate(-50%,-50%)scale(0)rotate(15deg);opacity:0;filter:brightness(2)}}@-o-keyframes seal-break{0%{-o-transform:translate(-50%,-50%)scale(1)rotate(0deg);transform:translate(-50%,-50%)scale(1)rotate(0deg);opacity:1;filter:brightness(1)}30%{-o-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);transform:translate(-50%,-50%)scale(1.4)rotate(5deg);opacity:.9;filter:brightness(1.3)}60%{-o-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);opacity:.5;filter:brightness(1.5)}100%{-o-transform:translate(-50%,-50%)scale(0)rotate(15deg);transform:translate(-50%,-50%)scale(0)rotate(15deg);opacity:0;filter:brightness(2)}}@keyframes seal-break{0%{-webkit-transform:translate(-50%,-50%)scale(1)rotate(0deg);-moz-transform:translate(-50%,-50%)scale(1)rotate(0deg);-o-transform:translate(-50%,-50%)scale(1)rotate(0deg);transform:translate(-50%,-50%)scale(1)rotate(0deg);opacity:1;-webkit-filter:brightness(1);filter:brightness(1)}30%{-webkit-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);-moz-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);-o-transform:translate(-50%,-50%)scale(1.4)rotate(5deg);transform:translate(-50%,-50%)scale(1.4)rotate(5deg);opacity:.9;-webkit-filter:brightness(1.3);filter:brightness(1.3)}60%{-webkit-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);-moz-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);-o-transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);transform:translate(-50%,-50%)scale(1.2)rotate(-3deg);opacity:.5;-webkit-filter:brightness(1.5);filter:brightness(1.5)}100%{-webkit-transform:translate(-50%,-50%)scale(0)rotate(15deg);-moz-transform:translate(-50%,-50%)scale(0)rotate(15deg);-o-transform:translate(-50%,-50%)scale(0)rotate(15deg);transform:translate(-50%,-50%)scale(0)rotate(15deg);opacity:0;-webkit-filter:brightness(2);filter:brightness(2)}}@-webkit-keyframes seal-ring{0%{-webkit-transform:translate(-50%,-50%)scale(.8);transform:translate(-50%,-50%)scale(.8);opacity:.8}100%{-webkit-transform:translate(-50%,-50%)scale(2.5);transform:translate(-50%,-50%)scale(2.5);opacity:0}}@-moz-keyframes seal-ring{0%{-moz-transform:translate(-50%,-50%)scale(.8);transform:translate(-50%,-50%)scale(.8);opacity:.8}100%{-moz-transform:translate(-50%,-50%)scale(2.5);transform:translate(-50%,-50%)scale(2.5);opacity:0}}@-o-keyframes seal-ring{0%{-o-transform:translate(-50%,-50%)scale(.8);transform:translate(-50%,-50%)scale(.8);opacity:.8}100%{-o-transform:translate(-50%,-50%)scale(2.5);transform:translate(-50%,-50%)scale(2.5);opacity:0}}@keyframes seal-ring{0%{-webkit-transform:translate(-50%,-50%)scale(.8);-moz-transform:translate(-50%,-50%)scale(.8);-o-transform:translate(-50%,-50%)scale(.8);transform:translate(-50%,-50%)scale(.8);opacity:.8}100%{-webkit-transform:translate(-50%,-50%)scale(2.5);-moz-transform:translate(-50%,-50%)scale(2.5);-o-transform:translate(-50%,-50%)scale(2.5);transform:translate(-50%,-50%)scale(2.5);opacity:0}}@-webkit-keyframes shine{0%{left:-100%}50%,100%{left:100%}}@-moz-keyframes shine{0%{left:-100%}50%,100%{left:100%}}@-o-keyframes shine{0%{left:-100%}50%,100%{left:100%}}@keyframes shine{0%{left:-100%}50%,100%{left:100%}}@-webkit-keyframes glow-pulse{0%,100%{opacity:0}50%{opacity:.3}}@-moz-keyframes glow-pulse{0%,100%{opacity:0}50%{opacity:.3}}@-o-keyframes glow-pulse{0%,100%{opacity:0}50%{opacity:.3}}@keyframes glow-pulse{0%,100%{opacity:0}50%{opacity:.3}}@-webkit-keyframes ambient-fall{0%{-webkit-transform:translatey(-20vh)translatex(0)rotate(0deg);transform:translatey(-20vh)translatex(0)rotate(0deg);opacity:0}5%{opacity:.5}50%{-webkit-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);opacity:.6}95%{opacity:.5}100%{-webkit-transform:translatey(120vh)translatex(0)rotate(360deg);transform:translatey(120vh)translatex(0)rotate(360deg);opacity:0}}@-moz-keyframes ambient-fall{0%{-moz-transform:translatey(-20vh)translatex(0)rotate(0deg);transform:translatey(-20vh)translatex(0)rotate(0deg);opacity:0}5%{opacity:.5}50%{-moz-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);opacity:.6}95%{opacity:.5}100%{-moz-transform:translatey(120vh)translatex(0)rotate(360deg);transform:translatey(120vh)translatex(0)rotate(360deg);opacity:0}}@-o-keyframes ambient-fall{0%{-o-transform:translatey(-20vh)translatex(0)rotate(0deg);transform:translatey(-20vh)translatex(0)rotate(0deg);opacity:0}5%{opacity:.5}50%{-o-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);opacity:.6}95%{opacity:.5}100%{-o-transform:translatey(120vh)translatex(0)rotate(360deg);transform:translatey(120vh)translatex(0)rotate(360deg);opacity:0}}@keyframes ambient-fall{0%{-webkit-transform:translatey(-20vh)translatex(0)rotate(0deg);-moz-transform:translatey(-20vh)translatex(0)rotate(0deg);-o-transform:translatey(-20vh)translatex(0)rotate(0deg);transform:translatey(-20vh)translatex(0)rotate(0deg);opacity:0}5%{opacity:.5}50%{-webkit-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);-moz-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);-o-transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);transform:translatey(50vh)translatex(var(--sway,20px))rotate(180deg);opacity:.6}95%{opacity:.5}100%{-webkit-transform:translatey(120vh)translatex(0)rotate(360deg);-moz-transform:translatey(120vh)translatex(0)rotate(360deg);-o-transform:translatey(120vh)translatex(0)rotate(360deg);transform:translatey(120vh)translatex(0)rotate(360deg);opacity:0}}"}),(0,r.jsxs)("div",{style:{background:j.background},className:"jsx-9fed08a7f35c6a70 fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:["idle"===h&&k.length>0&&(0,r.jsx)("div",{style:{zIndex:1},className:"jsx-9fed08a7f35c6a70 absolute inset-0 pointer-events-none overflow-hidden",children:k.map(t=>(0,r.jsx)("div",{style:{left:"".concat(t.x,"%"),top:"-30px",color:t.color,fontSize:"".concat(t.size,"px"),"--sway":"".concat(t.sway,"px"),animation:"ambient-fall ".concat(t.duration,"s ease-in-out infinite"),animationDelay:"".concat(t.delay,"s")},className:"jsx-9fed08a7f35c6a70 absolute",children:"heart"===t.type?"❤":"petal"===t.type?"\uD83C\uDF38":"✦"},t.id))}),v.length>0&&(0,r.jsx)("div",{style:{zIndex:100},className:"jsx-9fed08a7f35c6a70 absolute inset-0 pointer-events-none",children:v.map(t=>(0,r.jsx)("div",{style:{color:t.color,fontSize:"".concat(t.size,"px"),textShadow:"0 0 10px ".concat(t.color),"--dx":"".concat((t.x-50)*5,"px"),"--dy":"".concat((t.y-50)*5,"px"),"--rot-start":"".concat(t.rotStart,"deg"),"--rot-end":"".concat(t.rotEnd,"deg"),animation:"particle-burst 1.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards",animationDelay:"".concat(t.delay,"s")},className:"jsx-9fed08a7f35c6a70 absolute left-1/2 top-1/2",children:"heart"===t.type?"❤":"petal"===t.type?"\uD83C\uDF38":"✦"},t.id))}),(0,r.jsx)("div",{style:{zIndex:10,animation:"away"===h?"envelope-away 0.8s ease-in forwards":void 0},className:"jsx-9fed08a7f35c6a70 relative",children:(0,r.jsx)("div",{style:{animation:"rising"===h||"away"===h?"card-rise 0.5s ease-out forwards":void 0},className:"jsx-9fed08a7f35c6a70 relative",children:(0,r.jsxs)("div",{className:"jsx-9fed08a7f35c6a70 relative w-[340px] sm:w-[380px]",children:[(0,r.jsx)("div",{style:{height:"100px",transformOrigin:"top center",animation:E?"flap-open 0.7s linear forwards":void 0,zIndex:20},className:"jsx-9fed08a7f35c6a70 absolute left-0 right-0 top-0 overflow-visible",children:(0,r.jsxs)("svg",{viewBox:"0 0 380 100",preserveAspectRatio:"none",style:{filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))"},className:"jsx-9fed08a7f35c6a70 w-full h-full",children:[(0,r.jsx)("defs",{className:"jsx-9fed08a7f35c6a70",children:(0,r.jsxs)("linearGradient",{id:"flapGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",className:"jsx-9fed08a7f35c6a70",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:j.flapBg,className:"jsx-9fed08a7f35c6a70"}),(0,r.jsx)("stop",{offset:"100%",stopColor:d(j.flapBg,20),className:"jsx-9fed08a7f35c6a70"})]})}),(0,r.jsx)("path",{d:"M 16 0 L 364 0 Q 380 0 380 16 L 380 20 L 190 100 L 0 20 L 0 16 Q 0 0 16 0 Z",fill:"url(#flapGradient)",className:"jsx-9fed08a7f35c6a70"})]})}),(0,r.jsx)("div",{style:{top:"60px",width:"56px",height:"56px",transform:"translate(-50%, -50%)",background:"radial-gradient(circle at 30% 30%, ".concat(j.buttonBg,", ").concat(d(j.buttonBg,30),")"),"--shadow-color":i(j.buttonBg,.5),boxShadow:"0 4px 20px ".concat(i(j.buttonBg,.5),", inset 0 2px 4px rgba(255,255,255,0.3)"),zIndex:30,animation:"idle"===h?"seal-pulse 2s ease-in-out infinite":E?"seal-break 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards":void 0},className:"jsx-9fed08a7f35c6a70 absolute left-1/2 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{style:{fill:j.buttonText},viewBox:"0 0 24 24",className:"jsx-9fed08a7f35c6a70 w-7 h-7",children:(0,r.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",className:"jsx-9fed08a7f35c6a70"})})}),E&&(0,r.jsx)("div",{style:{top:"60px",width:"56px",height:"56px",transform:"translate(-50%, -50%)",border:"3px solid ".concat(j.buttonBg),zIndex:29,animation:"seal-ring 0.6s ease-out forwards"},className:"jsx-9fed08a7f35c6a70 absolute left-1/2 rounded-full pointer-events-none"}),(0,r.jsxs)("div",{style:{marginTop:"20px",background:j.cardBg,border:"1px solid ".concat(i(j.accent,.15))},className:"jsx-9fed08a7f35c6a70 relative rounded-2xl shadow-2xl overflow-hidden",children:[E&&(0,r.jsx)("div",{style:{background:"radial-gradient(ellipse at center top, ".concat(i(j.accent,.2)," 0%, transparent 70%)")},className:"jsx-9fed08a7f35c6a70 absolute inset-0 pointer-events-none transition-opacity duration-300"}),(0,r.jsxs)("div",{className:"jsx-9fed08a7f35c6a70 relative text-center px-6 pt-24 pb-8",children:[(0,r.jsxs)("h1",{style:{color:j.textPrimary},className:"jsx-9fed08a7f35c6a70 text-2xl sm:text-3xl font-serif mb-2",children:[a," & ",s]}),(0,r.jsxs)("div",{className:"jsx-9fed08a7f35c6a70 flex items-center justify-center gap-3 mb-2",children:[(0,r.jsx)("div",{style:{background:"linear-gradient(to right, transparent, ".concat(j.accent,")")},className:"jsx-9fed08a7f35c6a70 w-10 h-px"}),(0,r.jsx)("span",{style:{color:j.accent,opacity:.7},className:"jsx-9fed08a7f35c6a70 text-sm",children:"❦"}),(0,r.jsx)("div",{style:{background:"linear-gradient(to left, transparent, ".concat(j.accent,")")},className:"jsx-9fed08a7f35c6a70 w-10 h-px"})]}),B&&(0,r.jsx)("p",{style:{color:j.textSecondary},className:"jsx-9fed08a7f35c6a70 text-sm mb-5",children:B}),!B&&(0,r.jsx)("div",{className:"jsx-9fed08a7f35c6a70 mb-5"}),(0,r.jsxs)("div",{className:"jsx-9fed08a7f35c6a70 mb-6",children:[(0,r.jsx)("p",{style:{color:j.textSecondary},className:"jsx-9fed08a7f35c6a70 text-sm font-light mb-2",children:"Th\xe2n Mời"}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{backgroundColor:j.guestBoxBg},className:"jsx-9fed08a7f35c6a70 inline-block px-5 py-2.5 rounded-xl mb-2",children:(0,r.jsx)("h2",{style:{color:j.textPrimary},className:"jsx-9fed08a7f35c6a70 text-xl sm:text-2xl font-serif",children:e})}),(0,r.jsx)("p",{style:{color:j.textSecondary},className:"jsx-9fed08a7f35c6a70 text-sm font-light",children:"đến dự buổi tiệc chung vui c\xf9ng gia đ\xecnh"})]})]}),(0,r.jsxs)("button",{onClick:()=>{"idle"===h&&((null==u?void 0:u.current)&&u.current.play().catch(t=>{console.log("Music autoplay failed:",t)}),C(),b("opening"),setTimeout(()=>{w(T()),b("rising")},500),setTimeout(()=>{b("away")},1200),setTimeout(()=>{b("done"),null==y||y()},2e3))},disabled:"idle"!==h,style:{backgroundColor:j.buttonBg,color:j.buttonText,boxShadow:"0 4px 14px ".concat(i(j.buttonBg,.35))},className:"jsx-9fed08a7f35c6a70 relative px-8 py-2.5 text-base font-medium rounded-full shadow-lg transition-all duration-200 disabled:cursor-not-allowed flex items-center gap-2 mx-auto overflow-hidden hover:scale-105 active:scale-95",children:["idle"!==h?(0,r.jsx)("span",{className:"jsx-9fed08a7f35c6a70 loading loading-spinner loading-sm"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9fed08a7f35c6a70 w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76",className:"jsx-9fed08a7f35c6a70"})}),"Mở thiệp"]}),(0,r.jsx)("div",{style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",animation:"shine 3s ease-in-out infinite"},className:"jsx-9fed08a7f35c6a70 absolute top-0 h-full w-8 pointer-events-none"})]}),(0,r.jsxs)("div",{className:"jsx-9fed08a7f35c6a70 mt-6 flex justify-center gap-1.5 opacity-30",children:[(0,r.jsx)("div",{style:{backgroundColor:j.dots[0]},className:"jsx-9fed08a7f35c6a70 w-1.5 h-1.5 rounded-full"}),(0,r.jsx)("div",{style:{backgroundColor:j.dots[1]},className:"jsx-9fed08a7f35c6a70 w-1.5 h-1.5 rounded-full"}),(0,r.jsx)("div",{style:{backgroundColor:j.dots[2]},className:"jsx-9fed08a7f35c6a70 w-1.5 h-1.5 rounded-full"})]})]})]})]})})})]})]})}},77935:(t,e,a)=>{a.d(e,{A:()=>s});var r=a(95155);function s(t){let{children:e}=t;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("main",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"w-full max-w-4xl",children:e})})})}},79323:(t,e,a)=>{a.d(e,{u:()=>o});var r=a(23843);let s=()=>r.$.apiUrl;class o{static getUTMParams(){let t=sessionStorage.getItem(this.UTM_KEY);if(t)return JSON.parse(t);let e=new URLSearchParams(window.location.search),a={};return e.get("utm_source")&&(a.utm_source=e.get("utm_source")),e.get("utm_medium")&&(a.utm_medium=e.get("utm_medium")),e.get("utm_campaign")&&(a.utm_campaign=e.get("utm_campaign")),e.get("utm_content")&&(a.utm_content=e.get("utm_content")),e.get("utm_term")&&(a.utm_term=e.get("utm_term")),e.get("fbclid")&&(a.fbclid=e.get("fbclid")),e.get("gclid")&&(a.gclid=e.get("gclid")),a.utm_source||a.fbclid||a.gclid||!document.referrer||(a.referrer=document.referrer),Object.keys(a).length>0&&sessionStorage.setItem(this.UTM_KEY,JSON.stringify(a)),a}static clearUTMParams(){sessionStorage.removeItem(this.UTM_KEY)}static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}static getUser(){let t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}static setUser(t){localStorage.setItem(this.USER_KEY,JSON.stringify(t))}static isAuthenticated(){return!!this.getToken()}static async login(t){return this.requestMagicLink({email:t.email})}static async requestMagicLink(t){let e=this.getUTMParams(),a={...t,...e},r=await fetch("".concat(s(),"/api/auth/request-magic-link"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw Error((await r.json()).error||"Kh\xf4ng thể gửi email. Vui l\xf2ng thử lại.");return{message:(await r.json()).message,user:null,token:""}}static async verifyMagicLink(t){let e=await fetch("".concat(s(),"/api/auth/verify-magic-link"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});if(!e.ok)throw Error((await e.json()).error||"Link kh\xf4ng hợp lệ hoặc đ\xe3 hết hạn.");let a=await e.json();return this.setToken(a.token),a.user&&this.setUser(a.user),a}static async verifyOTPCode(t){let e=await fetch("".concat(s(),"/api/auth/verify-code"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error((await e.json()).error||"M\xe3 kh\xf4ng hợp lệ hoặc đ\xe3 hết hạn.");let a=await e.json();return this.setToken(a.token),a.user&&this.setUser(a.user),a}static async signup(t){let e=this.getUTMParams(),a=await fetch("".concat(s(),"/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,...e})});if(!a.ok)throw Error((await a.json()).error||"Đăng k\xfd thất bại. Vui l\xf2ng thử lại sau.");let r=await a.json();return{message:r.message,user:r.user||null,token:""}}static async logout(){let t=this.getToken();if(t)try{await fetch("".concat(s(),"/api/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})}catch(t){console.error("Logout API call failed:",t)}this.removeToken()}static async getCurrentUser(){let t=this.getToken();if(!t)throw Error("Chưa đăng nhập. Vui l\xf2ng đăng nhập để tiếp tục.");let e=await fetch("".concat(s(),"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok){if(401===e.status)throw this.removeToken(),Error("Ph\xean đăng nhập đ\xe3 hết hạn. Vui l\xf2ng đăng nhập lại.");throw Error("Kh\xf4ng thể tải th\xf4ng tin t\xe0i khoản. Vui l\xf2ng thử lại.")}let a=await e.json();return a.user&&this.setUser(a.user),a.user}static async authenticatedFetch(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getToken();if(!a)throw Error("Chưa đăng nhập. Vui l\xf2ng đăng nhập để tiếp tục.");let r={...e.headers,Authorization:"Bearer ".concat(a)},s=await fetch(t,{...e,headers:r});if(401===s.status)throw this.removeToken(),Error("Authentication expired");return s}static async devLogin(t){let e=await fetch("".concat(s(),"/api/auth/dev-login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!e.ok)throw Error((await e.json()).error||"Dev login failed");let a=await e.json();return this.setToken(a.token),a.user&&this.setUser(a.user),a}static async getDevLoginUsers(t){let e=new URL("".concat(s(),"/api/auth/dev-login/users"));t&&t.length>=2&&e.searchParams.set("search",t);let a=await fetch(e.toString(),{method:"GET"});if(!a.ok)throw Error((await a.json()).error||"Failed to fetch users");return(await a.json()).users}static async saveReferralCode(t){let e=this.getToken();if(!e)throw Error("Chưa đăng nhập");let a=await fetch("".concat(s(),"/api/auth/referral-code"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({referral_code:t})});if(!a.ok)throw Error((await a.json()).error||"Kh\xf4ng thể lưu m\xe3 giảm gi\xe1");return a.json()}static isAdmin(t){return(null==t?void 0:t.role)==="admin"||(null==t?void 0:t.role)==="super_admin"}static isSuperAdmin(t){return(null==t?void 0:t.role)==="super_admin"}static hasAdminAccess(t){return this.isAdmin(t)}}o.TOKEN_KEY="auth_token",o.USER_KEY="auth_user",o.UTM_KEY="utm_params"}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{23458:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(12115),n=a(79323);function r(){return(0,s.useEffect)(()=>{n.u.getUTMParams()},[]),null}},30347:()=>{},44478:(e,t,a)=>{"use strict";a.d(t,{PhoneNumberProvider:()=>f});var s=a(95155),n=a(12115),r=a(40283),o=a(79323),i=a(23843),l=a(11518),c=a.n(l);function d(e){let{isOpen:t,onClose:a,onSubmit:r,onSkip:o}=e,[i,l]=(0,n.useState)(""),[d,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)("");if(!t)return null;let f=e=>{let t=e.replace(/\D/g,"");return t.startsWith("84")?t.length<=2?"+84":t.length<=5?"+84 ".concat(t.slice(2)):t.length<=8?"+84 ".concat(t.slice(2,5)," ").concat(t.slice(5)):"+84 ".concat(t.slice(2,5)," ").concat(t.slice(5,8)," ").concat(t.slice(8,12)):t.startsWith("0")?t.length<=4?t:t.length<=7?"".concat(t.slice(0,4)," ").concat(t.slice(4)):"".concat(t.slice(0,4)," ").concat(t.slice(4,7)," ").concat(t.slice(7,11)):t},x=e=>{let t=e.replace(/\D/g,"");return t.startsWith("84")?t.length>=11&&t.length<=12:!!t.startsWith("0")&&t.length>=10&&t.length<=11},b=async e=>{if(e.preventDefault(),!x(i))return void h("Vui l\xf2ng nhập số điện thoại hợp lệ");m(!0),h("");try{let e=i.replace(/\D/g,"");e.startsWith("0")&&(e="84"+e.slice(1)),await r(e),a()}catch(e){h(e instanceof Error?e.message:"Kh\xf4ng thể lưu số điện thoại")}finally{m(!1)}};return(0,s.jsxs)("div",{onClick:a,className:"jsx-fdc9f685bd3cf466 fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:[(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-fdc9f685bd3cf466 relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden transform animate-slide-up",children:[(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 absolute -top-20 -right-20 w-40 h-40 bg-pink-500/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 absolute -bottom-20 -left-20 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),(0,s.jsxs)("div",{className:"jsx-fdc9f685bd3cf466 relative bg-gradient-to-br from-pink-500 via-pink-600 to-purple-600 px-8 py-8 text-white",children:[(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 flex items-center justify-center mb-4",children:(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center animate-bounce-slow",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-fdc9f685bd3cf466 w-10 h-10 text-white",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-fdc9f685bd3cf466"})})})}),(0,s.jsx)("h2",{className:"jsx-fdc9f685bd3cf466 text-2xl font-bold text-center mb-2",children:"Hỗ trợ tận t\xecnh \uD83C\uDF1F"}),(0,s.jsx)("p",{className:"jsx-fdc9f685bd3cf466 text-center text-white/90 text-sm",children:"Để lại số điện thoại để ch\xfang t\xf4i hỗ trợ bạn tốt nhất!"})]}),(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 relative p-8",children:(0,s.jsxs)("form",{onSubmit:b,className:"jsx-fdc9f685bd3cf466 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-fdc9f685bd3cf466",children:[(0,s.jsx)("label",{htmlFor:"phone",className:"jsx-fdc9f685bd3cf466 block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại của bạn"}),(0,s.jsxs)("div",{className:"jsx-fdc9f685bd3cf466 relative",children:[(0,s.jsx)("div",{className:"jsx-fdc9f685bd3cf466 absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-fdc9f685bd3cf466 h-5 w-5 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-fdc9f685bd3cf466"})})}),(0,s.jsx)("input",{id:"phone",type:"tel",value:i,onChange:e=>{l(f(e.target.value)),h("")},placeholder:"0901 234 567",disabled:d,autoFocus:!0,className:"jsx-fdc9f685bd3cf466 block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"})]}),u&&(0,s.jsx)("p",{className:"jsx-fdc9f685bd3cf466 mt-2 text-sm text-red-600",children:u})]}),(0,s.jsxs)("div",{className:"jsx-fdc9f685bd3cf466 space-y-3",children:[(0,s.jsx)("button",{type:"submit",disabled:d||!i,className:"jsx-fdc9f685bd3cf466 w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-medium py-3 px-4 rounded-lg hover:shadow-lg transform hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?(0,s.jsxs)("span",{className:"jsx-fdc9f685bd3cf466 flex items-center justify-center",children:[(0,s.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-fdc9f685bd3cf466 animate-spin -ml-1 mr-3 h-5 w-5 text-white",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-fdc9f685bd3cf466 opacity-25"}),(0,s.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-fdc9f685bd3cf466 opacity-75"})]}),"Đang lưu..."]}):"Lưu số điện thoại"}),(0,s.jsx)("button",{type:"button",onClick:()=>{o&&o(),a()},className:"jsx-fdc9f685bd3cf466 w-full text-gray-500 text-sm hover:text-gray-700 transition-colors py-2",children:"Để sau"})]})]})})]}),(0,s.jsx)(c(),{id:"fdc9f685bd3cf466",children:"@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@-moz-keyframes fade-in{from{opacity:0}to{opacity:1}}@-o-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes slide-up{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes slide-up{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes slide-up{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes slide-up{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes bounce-slow{0%,100%{-webkit-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-10px);transform:translatey(-10px)}}@-moz-keyframes bounce-slow{0%,100%{-moz-transform:translatey(0);transform:translatey(0)}50%{-moz-transform:translatey(-10px);transform:translatey(-10px)}}@-o-keyframes bounce-slow{0%,100%{-o-transform:translatey(0);transform:translatey(0)}50%{-o-transform:translatey(-10px);transform:translatey(-10px)}}@keyframes bounce-slow{0%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}}.animate-fade-in{-webkit-animation:fade-in.2s ease-out;-moz-animation:fade-in.2s ease-out;-o-animation:fade-in.2s ease-out;animation:fade-in.2s ease-out}.animate-slide-up{-webkit-animation:slide-up.3s ease-out;-moz-animation:slide-up.3s ease-out;-o-animation:slide-up.3s ease-out;animation:slide-up.3s ease-out}.animate-bounce-slow{-webkit-animation:bounce-slow 2s ease-in-out infinite;-moz-animation:bounce-slow 2s ease-in-out infinite;-o-animation:bounce-slow 2s ease-in-out infinite;animation:bounce-slow 2s ease-in-out infinite}"})]})}var m=a(35695);let u=(0,n.createContext)(void 0),h="phone_number_skipped";function f(e){let{children:t}=e,[a,l]=(0,n.useState)(!1),[c,f]=(0,n.useState)(!1),{user:x,isAuthenticated:b,updateUser:p}=(0,r.A)(),g=(0,m.useRouter)(),v=(0,m.usePathname)(),j=()=>{let e=localStorage.getItem(h);if(!e)return!1;try{let{timestamp:t,userId:a}=JSON.parse(e);if(a!==(null==x?void 0:x.id))return!1;let s=new Date(t);return(new Date().getTime()-s.getTime())/864e5<7}catch(e){return localStorage.removeItem(h),!1}};(0,n.useEffect)(()=>{(async()=>{if(b&&!c&&x){if(["/profile","/admin","/invite"].some(e=>null==v?void 0:v.startsWith(e))||j())return f(!0);try{let e=await o.u.getCurrentUser();if(!e.phone_number||0===e.phone_number.length){let e="true"===localStorage.getItem("tour_completed_dashboard");if(e)setTimeout(()=>{l(!0)},500*!!e);else{let e=setInterval(()=>{"true"===localStorage.getItem("tour_completed_dashboard")&&(clearInterval(e),setTimeout(()=>{l(!0)},1e3))},500);setTimeout(()=>clearInterval(e),3e4)}}f(!0)}catch(e){console.error("Error checking phone number:",e),f(!0)}}})()},[b,x,c,v]),(0,n.useEffect)(()=>{b||f(!1)},[b]);let y=async e=>{try{let t=await o.u.authenticatedFetch("".concat(i.$.apiUrl,"/api/users/profile"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:e})});if(!t.ok)throw Error("Failed to save phone number");await t.json(),p&&x&&p({...x,phone_number:e}),localStorage.removeItem(h),l(!1),(null==v?void 0:v.startsWith("/templates"))||(null==v?void 0:v.startsWith("/dashboard"))||g.push("/dashboard")}catch(e){throw console.error("Error saving phone number:",e),e}};return(0,s.jsxs)(u.Provider,{value:{showPhoneModal:a,setShowPhoneModal:l},children:[t,(0,s.jsx)(d,{isOpen:a,onClose:()=>{},onSubmit:y,onSkip:()=>{if(x&&1){let e={userId:x.id,timestamp:new Date().toISOString()};localStorage.setItem(h,JSON.stringify(e))}l(!1),f(!0),(null==v?void 0:v.startsWith("/templates"))||(null==v?void 0:v.startsWith("/dashboard"))||g.push("/dashboard")}})]})}},46125:()=>{},62666:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(95155),n=a(12115),r=a(40283),o=a(20803),i=a(35695),l=a(66766);function c(){var e;let{user:t,logout:a}=(0,r.A)(),n=(0,i.useRouter)();if(!t)return null;let o=async()=>{await a(),n.push("/")},l=(null==(e=t.name)?void 0:e.charAt(0).toUpperCase())||"U",c="admin"===t.role||"super_admin"===t.role;return(0,s.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,s.jsx)("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary/80 text-primary-content flex items-center justify-center font-bold text-sm shadow-sm",children:l})}),(0,s.jsxs)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[50] mt-3 w-64 p-2 shadow-lg border border-base-300",children:[(0,s.jsx)("li",{className:"menu-title px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("span",{className:"text-base font-semibold text-base-content",children:t.name}),(0,s.jsx)("span",{className:"text-xs text-base-content/60 truncate",children:t.email}),c&&(0,s.jsx)("span",{className:"badge badge-primary badge-sm mt-1",children:"Quản Trị Vi\xean"})]})}),(0,s.jsx)("li",{className:"mt-2",children:(0,s.jsx)("button",{onClick:()=>{var e;n.push("/profile"),null==(e=document.activeElement)||e.blur()},className:"font-medium hover:bg-base-200 transition-colors",children:"Hồ sơ c\xe1 nh\xe2n"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>{var e;n.push("/blog"),null==(e=document.activeElement)||e.blur()},className:"font-medium hover:bg-base-200 transition-colors",children:"Blog"})}),(0,s.jsx)("div",{className:"divider my-1"}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:o,className:"font-medium text-error hover:bg-error/10 transition-colors",children:"Đăng xuất"})})]})]})}var d=a(79323),m=a(23843),u=a(90187);function h(){let{user:e,logout:t}=(0,r.A)(),{openAuthModal:a}=(0,o.X)(),h=(0,i.useRouter)(),f=(0,i.usePathname)(),[x,b]=(0,n.useState)(!1),{hasPaidInvitation:p}=function(){let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{let a=await d.u.authenticatedFetch("".concat(m.$.apiUrl,"/api/invitations"));if(a.ok){var e;let s=(null==(e=(await a.json()).invitations)?void 0:e.some(e=>e.is_paid))||!1;t(s)}}catch(e){console.error("Error checking paid status:",e),t(!1)}finally{s(!1)}})()},[]),{hasPaidInvitation:e,loading:a}}();if((null==f?void 0:f.startsWith("/admin"))||(null==f?void 0:f.startsWith("/invite/"))||(null==f?void 0:f.startsWith("/partner"))&&"/partner/register"!==f)return null;let g=!!e,v=e&&("admin"===e.role||"super_admin"===e.role),j=(null==e?void 0:e.is_partner)===!0;return(0,s.jsxs)("div",{className:"navbar bg-base-100 shadow-sm",children:[(0,s.jsx)("div",{className:"navbar-start lg:hidden",children:(0,s.jsxs)("button",{onClick:()=>h.push("/"),className:"btn btn-ghost text-xl gap-2",children:[(0,s.jsx)(l.default,{src:"/icon.png",alt:"Chung đ\xf4i",width:28,height:28,className:"object-contain"}),(0,s.jsx)("span",{style:{fontFamily:"Pattaya, cursive"},children:"Chung Đ\xf4i"})]})}),(0,s.jsxs)("div",{className:"navbar-end lg:hidden",children:[(0,s.jsx)(u.A,{}),g?(0,s.jsx)(c,{}):(0,s.jsx)("button",{onClick:()=>a(),className:"btn btn-primary btn-sm",children:"Đăng nhập"})]}),(0,s.jsx)("div",{className:"navbar-start hidden lg:flex",children:(0,s.jsxs)("button",{onClick:()=>h.push("/"),className:"btn btn-ghost text-xl gap-2",children:[(0,s.jsx)(l.default,{src:"/icon.png",alt:"Chung đ\xf4i",width:28,height:28,className:"object-contain"}),(0,s.jsx)("span",{style:{fontFamily:"Pattaya, cursive"},children:"Chung Đ\xf4i"})]})}),(0,s.jsx)("div",{className:"navbar-center hidden lg:flex",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("button",{onClick:()=>{h.push("/templates")},className:"font-medium hover:text-primary transition-colors ".concat("/templates"===f?"text-primary":"text-base-content"),children:"Mẫu Thiệp"}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{h.push("/dashboard")},className:"font-medium hover:text-primary transition-colors ".concat("/dashboard"===f?"text-primary":"text-base-content"),children:"Quản L\xfd Thiệp"}),(0,s.jsx)("button",{onClick:()=>{h.push("/guests")},className:"font-medium hover:text-primary transition-colors ".concat("/guests"===f?"text-primary":"text-base-content"),children:"Kh\xe1ch Mời"})]})]})}),(0,s.jsxs)("div",{className:"navbar-end hidden lg:flex",children:[(0,s.jsx)(u.A,{}),g?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[j&&(0,s.jsx)("button",{onClick:()=>h.push("/partner"),className:"btn btn-ghost btn-sm",children:"Partner"}),v&&(0,s.jsx)("button",{onClick:()=>h.push("/admin"),className:"btn btn-primary btn-sm",children:"Quản Trị"}),(0,s.jsx)(c,{})]}):(0,s.jsx)("button",{onClick:()=>a(),className:"btn btn-primary",children:"Bắt Đầu"})]})]})}function f(){let{user:e,logout:t}=(0,r.A)(),a=(0,i.useRouter)(),o=(0,i.usePathname)(),[l,c]=(0,n.useState)(!1);if(!e||"admin"!==e.role&&"super_admin"!==e.role||!(null==o?void 0:o.startsWith("/admin")))return null;let d=async()=>{await t(),a.push("/")},m=[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/invitations",label:"Invitations",icon:"\uD83D\uDC8C"},{href:"/admin/testimonials",label:"Testimonials",icon:"⭐"},{href:"/admin/payments",label:"Payments",icon:"\uD83D\uDCB0"},{href:"/admin/analytics",label:"Analytics",icon:"\uD83D\uDCC8"},{href:"/admin/test",label:"Test",icon:"\uD83E\uDDEA"}];return(0,s.jsx)("div",{className:"bg-blue-900 text-white shadow-md",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-14",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-lg font-semibold",children:"⚡ Admin Panel"}),(0,s.jsxs)("span",{className:"text-sm text-blue-200",children:["Welcome, ",e.name]})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[m.map(e=>(0,s.jsxs)("button",{onClick:()=>a.push(e.href),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(o===e.href?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-800 hover:text-white"),children:[(0,s.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.href)),(0,s.jsx)("button",{onClick:()=>a.push("/dashboard"),className:"px-3 py-2 rounded-md text-sm font-medium text-blue-100 hover:bg-blue-800 hover:text-white transition-colors ml-4",children:"\uD83C\uDFE0 Back to Site"}),(0,s.jsx)("button",{onClick:d,className:"px-3 py-2 rounded-md text-sm font-medium text-blue-100 hover:bg-red-600 hover:text-white transition-colors ml-2",children:"\uD83D\uDEAA Logout"})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{onClick:()=>c(!l),className:"text-blue-100 hover:text-white p-2",children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),l&&(0,s.jsxs)("div",{className:"md:hidden border-t border-blue-800 py-2",children:[m.map(e=>(0,s.jsxs)("button",{onClick:()=>{a.push(e.href),c(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(o===e.href?"bg-blue-700 text-white":"text-blue-100 hover:bg-blue-800 hover:text-white"),children:[(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.href)),(0,s.jsx)("button",{onClick:()=>{a.push("/dashboard"),c(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-sm font-medium text-blue-100 hover:bg-blue-800 hover:text-white transition-colors mt-2",children:"\uD83C\uDFE0 Back to Site"}),(0,s.jsx)("button",{onClick:d,className:"block w-full text-left px-3 py-2 rounded-md text-sm font-medium text-blue-100 hover:bg-red-600 hover:text-white transition-colors",children:"\uD83D\uDEAA Logout"})]})]})})}function x(){return!function(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=window.location.hostname;t(e.includes("partner.")||e.includes("partner-"))},[]),e}()?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{}),(0,s.jsx)(h,{})]}):null}},63666:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,1554,23)),Promise.resolve().then(a.t.bind(a,30347,23)),Promise.resolve().then(a.t.bind(a,46125,23)),Promise.resolve().then(a.bind(a,96248)),Promise.resolve().then(a.bind(a,85381)),Promise.resolve().then(a.bind(a,90028)),Promise.resolve().then(a.bind(a,62666)),Promise.resolve().then(a.bind(a,90395)),Promise.resolve().then(a.bind(a,75475)),Promise.resolve().then(a.bind(a,23458)),Promise.resolve().then(a.bind(a,40283)),Promise.resolve().then(a.bind(a,20803)),Promise.resolve().then(a.bind(a,44478))},75475:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(95155),n=a(63554);function r(e){let{websiteId:t,umamiUrl:a}=e;return t&&a?(0,s.jsx)(n.default,{defer:!0,src:"".concat(a,"/script.js"),"data-website-id":t,strategy:"afterInteractive"}):null}},85381:(e,t,a)=>{"use strict";a.d(t,{BottomTabBar:()=>m});var s=a(95155),n=a(6874),r=a.n(n),o=a(35695),i=a(40283);let l=[{href:"/templates",label:"Mẫu Thiệp",authRequired:!1},{href:"/dashboard",label:"Thiệp của t\xf4i",authRequired:!0},{href:"/guests",label:"Kh\xe1ch mời",authRequired:!0}],c=["/invite/","/edit/","/admin","/partner","/login","/signup","/verify"];function d(e){let{href:t,active:a}=e,n="w-6 h-6";switch(t){case"/":return a?(0,s.jsxs)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"}),(0,s.jsx)("path",{d:"M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"})]}):(0,s.jsx)("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})});case"/templates":return a?(0,s.jsx)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H18a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H18a3 3 0 013 3V18a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})});case"/dashboard":return a?(0,s.jsxs)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}),(0,s.jsx)("path",{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"})]}):(0,s.jsx)("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})});case"/guests":return a?(0,s.jsxs)("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z",clipRule:"evenodd"}),(0,s.jsx)("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"})]}):(0,s.jsx)("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})});default:return null}}function m(){let e=(0,o.usePathname)(),{user:t}=(0,i.A)();if(c.some(t=>null==e?void 0:e.startsWith(t)))return null;let a=l.filter(e=>!e.authRequired||t);return(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-base-100/95 backdrop-blur-lg border-t border-base-300/50 pb-safe z-50 lg:hidden",children:(0,s.jsx)("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto",children:a.map(t=>{let a=e===t.href||"/"!==t.href&&(null==e?void 0:e.startsWith(t.href));return(0,s.jsxs)(r(),{href:t.href,className:"flex flex-col items-center justify-center flex-1 h-full gap-1 transition-colors ".concat(a?"text-primary":"text-base-content/40 active:text-base-content/60"),children:[(0,s.jsx)(d,{href:t.href,active:a}),(0,s.jsx)("span",{className:"text-[10px] ".concat(a?"font-semibold":"font-medium"),children:t.label})]},t.href)})})})}},90028:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(95155),n=a(35695),r=a(11518),o=a.n(r),i=a(12115);function l(){let{pageUsername:e="chungdoithiepcuoionline",position:t="bottom-right",themeColor:a="#fb3570",greeting:n="Chat với ch\xfang t\xf4i!",showGreeting:r=!0,greetingDelay:l=3e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[c,d]=(0,i.useState)(!1),[m,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[x,b]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if("true"===sessionStorage.getItem("messenger-widget-hidden"))return void b(!0);if(setTimeout(()=>f(!0),100),r){let e=setTimeout(()=>u(!0),l),t=setTimeout(()=>u(!1),l+2e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[r,l]),e)?x?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-5db65d816a97458c "+"fixed bottom-40 sm:bottom-24 ".concat("bottom-right"===t?"right-4 sm:right-6":"left-4 sm:left-6"," z-50 ").concat(h?"scale-100 opacity-100":"scale-0 opacity-0"," transition-all duration-300"),children:[(m||c)&&(0,s.jsxs)("div",{className:"jsx-5db65d816a97458c "+"absolute ".concat("bottom-right"===t?"right-16":"left-16"," bottom-3 whitespace-nowrap bg-gray-800 text-white px-3 py-2 rounded-lg text-sm shadow-lg animate-fade-in"),children:[(0,s.jsx)("span",{className:"jsx-5db65d816a97458c",children:n}),(0,s.jsx)("div",{className:"jsx-5db65d816a97458c "+"absolute top-1/2 -translate-y-1/2 ".concat("bottom-right"===t?"-right-2":"-left-2"," w-0 h-0 border-t-8 border-t-transparent border-b-8 border-b-transparent ").concat("bottom-right"===t?"border-l-8 border-l-gray-800":"border-r-8 border-r-gray-800")})]}),(0,s.jsxs)("a",{href:"https://m.me/".concat(e),target:"_blank",rel:"noopener noreferrer",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"jsx-5db65d816a97458c relative block",children:[(0,s.jsx)("div",{style:{backgroundColor:a},className:"jsx-5db65d816a97458c absolute inset-0 rounded-full animate-ping opacity-25"}),(0,s.jsxs)("div",{style:{backgroundColor:a},className:"jsx-5db65d816a97458c relative w-14 h-14 sm:w-16 sm:h-16 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 hover:shadow-xl",children:[(0,s.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"jsx-5db65d816a97458c w-8 h-8 sm:w-9 sm:h-9 text-white",children:(0,s.jsx)("path",{d:"M12 2C6.477 2 2 6.145 2 11.243c0 2.905 1.444 5.495 3.696 7.184v3.573l3.372-1.852c.9.25 1.855.385 2.932.385 5.523 0 10-4.145 10-9.243S17.523 2 12 2zm.994 12.448l-2.514-2.676-4.908 2.676 5.402-5.734 2.574 2.676 4.848-2.676-5.402 5.734z",className:"jsx-5db65d816a97458c"})}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),b(!0),sessionStorage.setItem("messenger-widget-hidden","true")},"aria-label":"Hide chat widget",className:"jsx-5db65d816a97458c absolute -top-1 -right-1 w-5 h-5 bg-gray-600 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors shadow-sm",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5db65d816a97458c w-3 h-3 text-white",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-5db65d816a97458c"})})})]})]})]}),(0,s.jsx)(o(),{id:"5db65d816a97458c",children:"@-webkit-keyframes fade-in{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fade-in{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fade-in{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fade-in{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.animate-fade-in{-webkit-animation:fade-in.3s ease-out;-moz-animation:fade-in.3s ease-out;-o-animation:fade-in.3s ease-out;animation:fade-in.3s ease-out}@media(max-width:640px){.fixed.bottom-28{bottom:7rem}}"})]}):(console.warn("MessengerWidget: Missing Facebook page username"),null)}function c(){let e=(0,n.usePathname)();return(null==e?void 0:e.startsWith("/invite/"))||(null==e?void 0:e.startsWith("/edit/"))?null:(0,s.jsx)(l,{})}},90187:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),n=a(12115);let r="chungdoi-theme",o="garden",i="halloween";function l(){let[e,t]=(0,n.useState)(null);if((0,n.useEffect)(()=>{let e=localStorage.getItem(r);if(e)t(e),document.documentElement.setAttribute("data-theme",e);else{let e=window.matchMedia("(prefers-color-scheme: light)").matches?o:i;t(e),document.documentElement.setAttribute("data-theme",e)}},[]),null===e)return(0,s.jsx)("button",{className:"btn btn-ghost btn-circle btn-sm",disabled:!0,children:(0,s.jsx)("span",{className:"loading loading-spinner loading-xs"})});let a=e===i;return(0,s.jsx)("button",{onClick:()=>{let a=e===o?i:o;t(a),localStorage.setItem(r,a),document.documentElement.setAttribute("data-theme",a)},className:"btn btn-ghost btn-circle btn-sm","aria-label":a?"Switch to light mode":"Switch to dark mode",title:a?"Chế độ s\xe1ng":"Chế độ tối",children:a?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}},90395:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(95155),n=a(63554),r=a(12115);function o(e){let{gaId:t}=e;return(0,r.useEffect)(()=>{window.gtag&&window.gtag("consent","default",{analytics_storage:"granted",ad_storage:"denied"})},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=".concat(t)}),(0,s.jsx)(n.default,{id:"google-analytics",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n\n            // Configure GA4 with custom dimensions\n            gtag('config', '".concat(t,"', {\n              page_title: document.title,\n              page_location: window.location.href,\n              send_page_view: true,\n              custom_map: {\n                'dimension1': 'user_trial_status',\n                'dimension2': 'invitation_count',\n                'dimension3': 'user_role',\n                'dimension4': 'discount_code',\n                'dimension5': 'engagement_level',\n              }\n            });\n          ")}})]})}},96248:(e,t,a)=>{"use strict";let s;a.d(t,{default:()=>x});var n=a(95155),r=a(432),o=a(52020),i=a(26715),l=a(72341),c=a(83731),d=a(12115);let m="phc_Ixh7VKAHIrfJntSV3bSfMn2juCCE8VzBDti0Aqwmreh",u="https://us.i.posthog.com";function h(e){let{children:t}=e;return((0,d.useEffect)(()=>{m&&u&&l.Ay.init(m,{api_host:u,person_profiles:"identified_only",capture_pageview:!1,capture_pageleave:!1,autocapture:!1,persistence:"localStorage",loaded:e=>{}})},[]),m&&u)?(0,n.jsx)(c.so,{client:l.Ay,children:t}):(0,n.jsx)(n.Fragment,{children:t})}function f(){return new r.E({defaultOptions:{queries:{staleTime:6e4}}})}function x(e){let{children:t}=e,a=o.S$?f():(s||(s=f()),s);return(0,n.jsx)(i.Ht,{client:a,children:(0,n.jsx)(h,{children:t})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9807,7690,2476,8229,6874,3063,6967,7982,283,803,8441,1684,7358],()=>t(63666)),_N_E=e.O()}]);
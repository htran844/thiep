"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6242],{439:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(12115),r=n(1639);function l(e){let{maxUploadBatch:t=10,galleryImages:n=[],onGalleryUpdate:l,isEnabled:o=!0}=e,[i,s]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),u=(0,a.useCallback)(async()=>{if(o)try{let e=await r.a5.createImageFileInput("image/*",!0);if(!e||0===e.length)return;let a=Array.from(e),o=r.a5.validateFiles(a);if(o.invalid.length>0){let e=o.invalid.map(e=>{let{file:t,reason:n}=e;return"• ".concat(t.name,": ").concat(n)}).join("\n");if(0===o.valid.length)return void alert("Kh\xf4ng c\xf3 file hợp lệ để tải l\xean:\n\n".concat(e));let t="".concat(o.invalid.length," file kh\xf4ng hợp lệ sẽ bị bỏ qua:\n\n").concat(e,"\n\nTiếp tục tải l\xean ").concat(o.valid.length," file hợp lệ?");if(!confirm(t))return}let i=o.valid;if(i.length>t)return void alert("Bạn chỉ c\xf3 thể tải l\xean tối đa ".concat(t," ảnh c\xf9ng l\xfac. Bạn đ\xe3 chọn ").concat(i.length," ảnh hợp lệ. Vui l\xf2ng chọn \xedt ảnh hơn."));s(!0),d(null);let c=await r.a5.uploadMultipleImages(i,e=>{d({message:e.message,progress:e.progress})});if(c.successful.length>0){let e=c.successful.map(e=>e.url),t=[...n,...e];l(t),h(!0),setTimeout(()=>h(!1),2e3)}if(c.failed.length>0){let e=c.failed.map(e=>{let{filename:t,error:n}=e;return"• ".concat(t,": ").concat(n)}).join("\n");alert("Tải l\xean ho\xe0n th\xe0nh:\n"+"✅ Th\xe0nh c\xf4ng: ".concat(c.successful.length,"\n")+"❌ Thất bại: ".concat(c.failed.length,"\n\n")+"C\xe1c file thất bại:\n".concat(e))}}catch(e){console.error("Gallery upload error:",e),alert("C\xf3 lỗi xảy ra khi tải ảnh l\xean. Vui l\xf2ng thử lại.")}finally{s(!1),d(null)}},[o,t,n,l]);return{isUploading:i,uploadProgress:c,uploadSuccess:m,handleGalleryUpload:u}}},1639:(e,t,n)=>{n.d(t,{a5:()=>m,q2:()=>d,E5:()=>c});var a=n(79323),r=n(23843),l=n(31802);let o={AVATAR:{maxSizeMB:1,maxWidthOrHeight:800,quality:.8,useWebWorker:!0},GALLERY:{maxSizeMB:2.5,maxWidthOrHeight:2400,quality:.85,useWebWorker:!0}};async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.GALLERY,n=arguments.length>2?arguments[2]:void 0;try{let a=e.size/1024/1024;console.log("\uD83D\uDD04 Compressing image: ".concat(e.name)),console.log("\uD83D\uDCCA Original size: ".concat(a.toFixed(2)," MB")),console.log("\uD83D\uDCCB Original type: ".concat(e.type));let r={...t,onProgress:e=>{console.log("\uD83D\uDCCA Compression progress: ".concat(e,"%")),null==n||n(e)}},o=await (0,l.A)(e,r),i=new File([o],e.name.replace(/\.[^.]+$/,".jpg"),{type:"image/jpeg",lastModified:Date.now()}),s=i.size/1024/1024,c=((1-s/a)*100).toFixed(1);return console.log("✅ Compressed size: ".concat(s.toFixed(2)," MB")),console.log("\uD83D\uDCCB Compressed type: ".concat(i.type)),console.log("\uD83D\uDCC9 Size reduction: ".concat(c,"%")),i}catch(t){return console.error("❌ Image compression failed:",t),console.warn("⚠️ Using original file without compression"),e}}function s(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"}let c=e=>{let t=e.type.toLowerCase(),n=e.name.toLowerCase();return t.includes("heic")||t.includes("heif")||n.endsWith(".heic")||n.endsWith(".heif")},d=async e=>{console.log("\uD83D\uDD04 Converting HEIC to JPEG:",e.name);let t=(await n.e(2e3).then(n.t.bind(n,17977,23))).default,a=await t({blob:e,toType:"image/jpeg",quality:.9}),r=new File([Array.isArray(a)?a[0]:a],e.name.replace(/\.heic$/i,".jpg").replace(/\.heif$/i,".jpg"),{type:"image/jpeg"});return console.log("✅ HEIC converted:",s(r.size)),r};class m{static get API_URL(){return r.$.apiUrl}static uploadingMessage(e,t){return e&&t?"Đang tải l\xean ".concat(e,"/").concat(t,"..."):this.MSG_UPLOADING}static async uploadFile(e){let t=new FormData;t.append("image",e);let n=await a.u.authenticatedFetch("".concat(this.API_URL,"/api/upload/image"),{method:"POST",body:t});if(!n.ok)throw Error((await n.json()).error||"Failed to upload image");return n.json()}static validateFiles(e){let t=[],n=[];return e.forEach(e=>{let a=this.ALLOWED_TYPES.includes(e.type.toLowerCase()),r=e.name.toLowerCase(),l=this.ALLOWED_EXTENSIONS.some(e=>r.endsWith(e));a||l?0===e.size?n.push({file:e,reason:"File rỗng"}):e.size>0x3200000?n.push({file:e,reason:"File qu\xe1 lớn (tối đa 50MB)"}):t.push(e):n.push({file:e,reason:"Định dạng kh\xf4ng hợp lệ (chỉ chấp nhận: JPG, PNG, GIF, WebP, HEIC)"})}),{valid:t,invalid:n}}static async uploadSingleImage(e,t){console.log("\uD83D\uDD04 Uploading single image:",e.name),console.log("\uD83D\uDCCA Original size:",s(e.size));let n=e;c(e)&&(null==t||t({stage:"compressing",progress:0,message:"Đang chuyển đổi HEIC..."}),n=await d(e));let a=this.MSG_UPLOADING;null==t||t({stage:"compressing",progress:0,message:a});let r=await i(n,o.AVATAR,e=>{null==t||t({stage:"compressing",progress:e,message:a})});null==t||t({stage:"uploading",progress:0,message:a});let l=await this.uploadFile(r);return console.log("✅ Upload success:",l),null==t||t({stage:"done",progress:100,message:this.MSG_DONE}),l}static async uploadMultipleImages(e,t){console.log("\uD83D\uDD04 Uploading multiple images:",e.length,"files");let n=[],a=[],r=e.length;for(let l=0;l<r;l++){let s=e[l],m=l+1,h=this.uploadingMessage(m,r);try{let e=s;c(s)&&(null==t||t({stage:"compressing",progress:Math.round(l/r*100),currentFile:m,totalFiles:r,message:"Đang chuyển đổi HEIC ".concat(m,"/").concat(r,"...")}),e=await d(s)),null==t||t({stage:"compressing",progress:Math.round(l/r*100),currentFile:m,totalFiles:r,message:h});let a=await i(e,o.GALLERY,e=>{null==t||t({stage:"compressing",progress:Math.round(l/r*100+e/r),currentFile:m,totalFiles:r,message:h})});null==t||t({stage:"uploading",progress:Math.round((l+.5)/r*100),currentFile:m,totalFiles:r,message:h});let u=await this.uploadFile(a);n.push({url:u.imageUrl,filename:s.name}),console.log("✅ Uploaded ".concat(s.name))}catch(e){console.error("❌ Failed to upload ".concat(s.name,":"),e),a.push({filename:s.name,error:e instanceof Error?e.message:"Unknown error"})}}return null==t||t({stage:"done",progress:100,message:this.MSG_DONE}),console.log("\uD83D\uDCCA Upload complete: ".concat(n.length," succeeded, ").concat(a.length," failed")),{successful:n,failed:a}}static createImageFileInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/*",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(n=>{let a=document.createElement("input");a.type="file",a.accept=e,a.multiple=t,a.onchange=()=>{n(a.files)},a.oncancel=()=>{n(null)},a.click()})}static async blobUrlToFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.jpg",n=await fetch(e),a=await n.blob();return new File([a],t,{type:a.type||"image/jpeg"})}}m.ALLOWED_TYPES=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/heic","image/heif"],m.ALLOWED_EXTENSIONS=[".jpg",".jpeg",".png",".gif",".webp",".heic",".heif"],m.MSG_UPLOADING="Đang tải l\xean...",m.MSG_DONE="Ho\xe0n th\xe0nh!"},12697:(e,t,n)=>{n.d(t,{FC:()=>l,Lu:()=>r,X$:()=>o});var a=n(28401);function r(e){let t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear().toString(),dayName:a.Y7[t.getDay()]}}function l(e){let{date:t,time:n,groomFullName:a,brideFullName:r,address:l}=e;if(!t||!n||!a||!r)return"#";let o=new Date("".concat(t,"T").concat(n)),i=new Date(o.getTime()+72e5),s=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",c="Đ\xe1m cưới ".concat(a,"-").concat(r),d="Tiệc cưới của ".concat(a," & ").concat(r," tại ").concat(null!=l?l:"");return"https://www.google.com/calendar/render?action=TEMPLATE"+"&text=".concat(encodeURIComponent(c))+"&dates=".concat(s(o),"/").concat(s(i))+"&ctz=Asia/Ho_Chi_Minh"+"&details=".concat(encodeURIComponent(d))+"&location=".concat(encodeURIComponent(null!=l?l:""))}function o(e,t){if(!e||!t)return null;let n=t.replace(/[\s-]+/g,"");return"https://qr.sepay.vn/img?bank=".concat(e,"&acc=").concat(n,"&template=qronly")}},24077:(e,t,n)=>{n.d(t,{n:()=>l});var a=n(12115),r=n(54074);function l(e){let{data:t,onDataChange:n}=e;return{parseMapAddress:(0,a.useCallback)(async e=>{let a=e.match(/@?(-?\d+\.?\d*)[,\s]+(-?\d+\.?\d*)/);if(a){let r=parseFloat(a[1]),l=parseFloat(a[2]),o={...t,mapAddress:e,latitude:r,longitude:l};return null==n||n(o),e}if(e.includes("maps")||e.includes("goo.gl")){let a=await (0,r.f5)(e);if(a){let r={...t,mapAddress:e,...a.latitude&&{latitude:a.latitude},...a.longitude&&{longitude:a.longitude},...a.placeName&&{mapPlaceName:a.placeName},...a.placeId&&{placeId:a.placeId}};return null==n||n(r),e}}let l={...t,mapAddress:e};return null==n||n(l),e},[t,n])}}},28401:(e,t,n)=>{n.d(t,{Sb:()=>l,Y4:()=>a,Y7:()=>r,e$:()=>o});let a={SONGLONG_RED:"songlong_red",SONGLONG_GREEN:"songlong_green",SONGLONG_BLUE:"songlong_blue",LONGPHUNG_RED:"longphung_red",LONGPHUNG_GREEN:"longphung_green",LONGPHUNG_BLUE:"longphung_blue",LONGPHUNG_BLACK:"longphung_black",VUONXUAN_RED:"vuonxuan_red",VUONXUAN_GREEN:"vuonxuan_green",VUONXUAN_BLUE:"vuonxuan_blue",ANHDAO_PINK:"anhdao_pink",CHIBI_RED:"chibi_red",THANHDIEP_GREEN:"thanhdiep_green"},r=["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ s\xe1u","Thứ bảy"],l={smileys:{name:"Mặt cười",emojis:["\uD83D\uDE00","\uD83D\uDE03","\uD83D\uDE04","\uD83D\uDE01","\uD83D\uDE06","\uD83D\uDE05","\uD83E\uDD23","\uD83D\uDE02","\uD83D\uDE42","\uD83D\uDE43","\uD83D\uDE09","\uD83D\uDE0A","\uD83D\uDE07","\uD83E\uDD70","\uD83D\uDE0D","\uD83E\uDD29","\uD83D\uDE18","\uD83D\uDE17","\uD83D\uDE1A","\uD83D\uDE19","\uD83D\uDE0B","\uD83D\uDE1B","\uD83D\uDE1C","\uD83E\uDD2A","\uD83D\uDE1D","\uD83E\uDD11","\uD83E\uDD17","\uD83E\uDD2D","\uD83E\uDD2B","\uD83E\uDD14","\uD83E\uDD10","\uD83E\uDD28","\uD83D\uDE10","\uD83D\uDE11","\uD83D\uDE36","\uD83D\uDE0F","\uD83D\uDE12","\uD83D\uDE44","\uD83D\uDE2C","\uD83E\uDD25","\uD83D\uDE14","\uD83D\uDE2A","\uD83E\uDD24","\uD83D\uDE34","\uD83D\uDE37","\uD83E\uDD12","\uD83E\uDD15","\uD83E\uDD22","\uD83E\uDD2E","\uD83E\uDD27","\uD83E\uDD75","\uD83E\uDD76","\uD83E\uDD74","\uD83D\uDE35","\uD83E\uDD2F","\uD83E\uDD20","\uD83E\uDD73","\uD83D\uDE0E","\uD83E\uDD13","\uD83E\uDDD0"]},hearts:{name:"Tr\xe1i tim",emojis:["❤️","\uD83E\uDDE1","\uD83D\uDC9B","\uD83D\uDC9A","\uD83D\uDC99","\uD83D\uDC9C","\uD83D\uDDA4","\uD83E\uDD0D","\uD83E\uDD0E","\uD83D\uDC94","❣️","\uD83D\uDC95","\uD83D\uDC9E","\uD83D\uDC93","\uD83D\uDC97","\uD83D\uDC96","\uD83D\uDC98","\uD83D\uDC9D","\uD83D\uDC9F"]},celebrations:{name:"Lễ hội",emojis:["\uD83C\uDF89","\uD83C\uDF8A","\uD83C\uDF88","\uD83C\uDF81","\uD83C\uDF80","\uD83C\uDF82","\uD83C\uDF70","\uD83E\uDD73","\uD83C\uDF86","\uD83C\uDF87","✨","\uD83C\uDF84","\uD83C\uDF83","\uD83C\uDF97️","\uD83C\uDFC6","\uD83E\uDD47","\uD83C\uDF96️","\uD83C\uDFC5","\uD83D\uDC92","\uD83D\uDC8D","\uD83D\uDC8E"]},gestures:{name:"Cử chỉ",emojis:["\uD83D\uDC4D","\uD83D\uDC4E","\uD83D\uDC4C","\uD83E\uDD0C","\uD83E\uDD0F","✌️","\uD83E\uDD1E","\uD83E\uDD1F","\uD83E\uDD18","\uD83E\uDD19","\uD83D\uDC48","\uD83D\uDC49","\uD83D\uDC46","\uD83D\uDD95","\uD83D\uDC47","☝️","\uD83D\uDC4B","\uD83E\uDD1A","\uD83D\uDD90️","✋","\uD83D\uDD96","\uD83D\uDC4F","\uD83D\uDE4C","\uD83E\uDD32","\uD83E\uDD1D","\uD83D\uDE4F"]},objects:{name:"Đồ vật",emojis:["\uD83D\uDCA1","\uD83D\uDCB0","\uD83D\uDCB3","\uD83D\uDC8E","⚡","\uD83D\uDD25","\uD83D\uDCAB","⭐","\uD83C\uDF1F","✨","\uD83C\uDFB5","\uD83C\uDFB6","\uD83D\uDD14","\uD83D\uDD15","\uD83D\uDCF1","\uD83D\uDCBB","⌨️","\uD83D\uDDA5️","\uD83D\uDDA8️","\uD83D\uDDB1️","\uD83D\uDCBE","\uD83D\uDCBF","\uD83D\uDCC0","\uD83C\uDFAE","\uD83D\uDD79️","\uD83D\uDCF7","\uD83D\uDCF8","\uD83D\uDCF9","\uD83C\uDFA5","\uD83D\uDCFD️","\uD83C\uDF9E️","\uD83D\uDCDE","☎️","\uD83D\uDCDF","\uD83D\uDCE0","\uD83D\uDCFA","\uD83D\uDCFB","\uD83C\uDF99️","\uD83C\uDF9A️","\uD83C\uDF9B️"]}},o=["Ch\xfac hai bạn lu\xf4n tr\xe0n ngập y\xeau thương v\xe0 hạnh ph\xfac trong suốt qu\xe3ng đời c\xf2n lại.","Mong hai bạn x\xe2y dựng một m\xe1i ấm tr\xe0n đầy tiếng cười v\xe0 niềm vui.","Ch\xfac cho cuộc sống h\xf4n nh\xe2n của hai bạn lu\xf4n h\xf2a hợp v\xe0 bền chặt.","Hy vọng rằng mỗi ng\xe0y của hai bạn đều l\xe0 một ng\xe0y đ\xe1ng nhớ v\xe0 hạnh ph\xfac.","Ch\xfac vợ chồng mới cưới lu\xf4n nắm tay nhau vượt qua mọi kh\xf3 khăn trong cuộc sống.","Mong rằng hạnh ph\xfac sẽ lu\xf4n hiện hữu trong từng khoảnh khắc của hai bạn.","Ch\xfac hai bạn sớm c\xf3 những thi\xean thần nhỏ l\xe0m cho m\xe1i nh\xe0 th\xeam rộn r\xe0ng.","Hy vọng t\xecnh y\xeau của hai bạn ng\xe0y c\xe0ng nở rộ v\xe0 bền l\xe2u.","Ch\xfac đ\xf4i bạn trẻ m\xe3i gắn b\xf3, y\xeau thương v\xe0 sẻ chia với nhau mọi điều trong cuộc sống.","Mong rằng tổ ấm mới của hai bạn sẽ lu\xf4n đong đầy niềm vui v\xe0 tiếng cười.","Ch\xfac hai bạn hạnh ph\xfac đến đầu bạc răng long, sống trọn đời b\xean nhau.","Hy vọng rằng mỗi s\xe1ng thức dậy, hai bạn đều mỉm cười v\xec c\xf3 nhau trong đời.","Ch\xfac t\xecnh y\xeau của hai bạn ng\xe0y c\xe0ng nồng n\xe0n, son sắt v\xe0 thủy chung.","Mong rằng cuộc sống h\xf4n nh\xe2n sẽ l\xe0 h\xe0nh tr\xecnh tuyệt vời nhất của hai bạn.","Ch\xfac vợ chồng mới cưới lu\xf4n gặp may mắn, sức khỏe v\xe0 th\xe0nh c\xf4ng.","Hy vọng hai bạn lu\xf4n t\xecm thấy b\xecnh y\xean v\xe0 hạnh ph\xfac trong v\xf2ng tay của nhau.","Ch\xfac h\xf4n nh\xe2n của hai bạn l\xe0 c\xe2u chuyện cổ t\xedch đẹp đẽ k\xe9o d\xe0i m\xe3i m\xe3i.","Mong rằng t\xecnh y\xeau của hai bạn l\xe0 nguồn sức mạnh vượt qua mọi thử th\xe1ch.","Ch\xfac hai bạn lu\xf4n biết tr\xe2n trọng v\xe0 y\xeau thương nhau như ng\xe0y đầu gặp gỡ.","Hy vọng tổ ấm nhỏ n\xe0y sẽ sớm rộn r\xe3 tiếng cười con trẻ v\xe0 hạnh ph\xfac vi\xean m\xe3n."]},54074:(e,t,n)=>{n.d(t,{MG:()=>o,f5:()=>r});var a=n(23843);async function r(e){try{if(e.includes("maps.apple.com"))return function(e){try{let t,n,a,r,l=new URL(e).searchParams,o=l.get("coordinate");if(o){let[e,a]=o.split(",").map(e=>parseFloat(e.trim()));isNaN(e)||isNaN(a)||(t=e,n=a)}let i=l.get("address");i&&(a=decodeURIComponent(i));let s=l.get("name");if(s&&(r=decodeURIComponent(s)),r&&!a&&(a=r),!t&&!n&&!a&&!r)return null;return{latitude:t,longitude:n,address:a,placeName:r}}catch(e){return console.error("Error parsing Apple Maps URL:",e),null}}(e);if(e.includes("maps.app.goo.gl")||e.includes("goo.gl/maps")||e.includes("share.google"))return await l(e);return function(e){let t,n,a,r,l=e.match(/!3d(-?\d+\.?\d*)!4d(-?\d+\.?\d*)/);if(l&&(t=parseFloat(l[1]),n=parseFloat(l[2])),!t||!n){let a=e.match(/[?&]ll=(-?\d+\.?\d*),(-?\d+\.?\d*)/);a&&(t=parseFloat(a[1]),n=parseFloat(a[2]))}if(!t||!n){let a=e.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);a&&(t=parseFloat(a[1]),n=parseFloat(a[2]))}let o=e.match(/\/place\/([^/]+)\//);o&&(r=decodeURIComponent(o[1].replace(/\+/g," ")));let i=e.match(/[?&]q=([^&]+)/);i&&(a=decodeURIComponent(i[1].replace(/\+/g," ")));let s=e.match(/\/search\/([^/]+)/);return(s&&!a&&(a=decodeURIComponent(s[1].replace(/\+/g," "))),r&&!a&&(a=r),t||n||a||r)?{latitude:t,longitude:n,address:a,placeName:r}:null}(e)}catch(e){throw console.error("Error parsing map URL:",e),e}}async function l(e){try{let t=a.$.apiUrl,n=await fetch("".concat(t,"/api/maps/resolve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!n.ok)return console.error("Failed to resolve short URL:",n.statusText),null;let r=await n.json();if(r.success&&r.data)return{latitude:r.data.latitude,longitude:r.data.longitude,address:r.data.address,placeName:r.data.placeName,placeId:r.data.placeId};return null}catch(e){return console.error("Error calling maps resolve API:",e),null}}function o(e){let t="AIzaSyAY8WQxGig6axA_jZil94btO9G6dhsFEKg";if(!t)return console.warn("Google Maps API key is not configured. Map will not be displayed."),null;if(!e.mapAddress&&!e.latitude&&!e.longitude&&!e.placeId&&!e.address)return null;if(e.mapDisplayMode)switch(e.mapDisplayMode){case"placeId":if(e.mapPlaceName)return"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(encodeURIComponent(e.mapPlaceName));break;case"coordinates":if(e.latitude&&e.longitude)return"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(e.latitude,",").concat(e.longitude,"&zoom=17");break;case"address":if(e.mapAddress)return"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(encodeURIComponent(e.mapAddress))}return e.mapPlaceName&&e.mapAddress?"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(encodeURIComponent(e.mapPlaceName)):e.latitude&&e.longitude&&e.mapAddress?"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(e.latitude,",").concat(e.longitude,"&zoom=17"):e.mapAddress?"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(encodeURIComponent(e.mapAddress)):e.address?"https://www.google.com/maps/embed/v1/place?key=".concat(t,"&q=").concat(encodeURIComponent(e.address)):null}},61911:(e,t,n)=>{function a(e){return"string"==typeof e?{url:e,position:{x:.5,y:.5}}:e}function r(e){return"string"==typeof e?e:e.url}function l(e){let t="string"==typeof e?{x:.5,y:.5}:e.position||{x:.5,y:.5};return{objectPosition:"".concat(100*t.x,"% ").concat(100*t.y,"%")}}function o(e,t,n){let a=e.x+e.width/2,r=e.y+e.height/2,l=e.width/(2*t),o=e.height/(2*n),i=1-2*l,s=1-2*o;return{x:i>0?Math.max(0,Math.min(1,(a/t-l)/i)):.5,y:s>0?Math.max(0,Math.min(1,(r/n-o)/s)):.5}}n.d(t,{VG:()=>r,aM:()=>o,jk:()=>a,nb:()=>l})},62932:(e,t,n)=>{n.d(t,{$:()=>i});var a=n(95155),r=n(54074),l=n(35695),o=n(66766);function i(e){let{latitude:t,longitude:n,address:i,mapAddress:s,mapPlaceName:c,mapDisplayMode:d,placeId:m,className:h="w-full h-[300px] rounded-xl",style:u,fallbackClassName:g,fallbackStyle:p,fallbackText:b="Nhập link Google Maps ở tr\xean để hiển thị bản đồ",showFallback:x=!0}=e,N="true"===(0,l.useSearchParams)().get("screenshot"),y=(0,r.MG)({latitude:t,longitude:n,address:i,mapAddress:s,mapPlaceName:c,mapDisplayMode:d,placeId:m});return y&&N?(0,a.jsx)("div",{className:h,style:{...u,position:"relative"},children:(0,a.jsx)(o.default,{src:"/images/screenshot-map-placeholder.png",alt:"Map placeholder",fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}):y?(0,a.jsx)("iframe",{className:h,style:u,src:y,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}):x?(0,a.jsx)("div",{className:g||"".concat(h," bg-black/20 flex items-center justify-center"),style:p,children:(0,a.jsx)("p",{className:"text-center px-4",children:b})}):null}},73402:(e,t,n)=>{n.d(t,{XH:()=>i,w:()=>m,pP:()=>o,ie:()=>g,$Y:()=>u});var a=n(95155),r=n(12115),l=n(28401);let o=(0,r.memo)(function(e){let{onEmojiSelect:t,maxEmojis:n=80,buttonColor:r}=e,o=Object.values(l.Sb).flatMap(e=>e.emojis).slice(0,n),i=e=>{t(e),document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return(0,a.jsxs)("div",{className:"dropdown dropdown-top",children:[(0,a.jsx)("div",{tabIndex:0,role:"button",className:"flex items-center hover:scale-110 transition-transform cursor-pointer px-2 py-1 rounded hover:bg-white/20",style:r?{color:r}:void 0,title:"Ch\xe8n biểu tượng",children:"\uD83D\uDE0A"}),(0,a.jsxs)("div",{tabIndex:0,className:"dropdown-content card card-sm bg-white rounded-lg shadow-2xl border border-gray-200 z-50 w-72 md:w-80 mb-2",children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"font-medium text-gray-700",children:"Ch\xe8n biểu tượng"})}),(0,a.jsx)("div",{className:"p-2 max-h-64 overflow-y-auto",children:(0,a.jsx)("div",{className:"grid grid-cols-8 gap-1",children:o.map((e,t)=>(0,a.jsx)("button",{onClick:()=>i(e),className:"p-2 hover:bg-gray-100 rounded text-lg hover:scale-110 transition-transform",title:e,children:e},t))})})]})]})}),i=(0,r.memo)(function(e){let{onSuggestionSelect:t,buttonColor:n,textColor:r}=e,o=e=>{t(e),document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return(0,a.jsxs)("div",{className:"dropdown dropdown-top",children:[(0,a.jsx)("div",{tabIndex:0,role:"button",className:"flex items-center hover:scale-110 transition-transform cursor-pointer px-2 py-1 rounded hover:bg-white/20",style:n?{color:n}:void 0,title:"Gợi \xfd lời ch\xfac",children:"\uD83D\uDCA1"}),(0,a.jsxs)("div",{tabIndex:0,className:"dropdown-content card card-sm bg-white rounded-lg shadow-2xl border border-gray-200 z-50 w-80 md:w-96 mb-2",children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"font-medium text-gray-700",children:"Gợi \xfd lời ch\xfac"})}),(0,a.jsx)("div",{className:"p-2 max-h-64 overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2",children:l.e$.map((e,t)=>(0,a.jsx)("button",{onClick:()=>o(e),className:"w-full text-left p-3 hover:bg-gray-100 rounded-lg text-sm leading-relaxed transition-colors duration-200 border border-transparent hover:border-gray-200",style:r?{color:r}:void 0,children:e},t))})})]})]})});n(66766),n(12697);var s=n(55028),c=n(24077);let d=(0,s.default)(()=>Promise.all([n.e(5302),n.e(2545),n.e(5579),n.e(9517),n.e(4515)]).then(n.bind(n,84515)),{loadableGenerated:{webpack:()=>[84515]},ssr:!1}),m=(0,r.memo)(function(e){let{field:t,data:n,defaultData:l,isEditable:o,onDataChange:i,onFieldBlur:s,className:m="",placeholder:h="",multiline:u=!1,style:g,focusRingColor:p="focus:ring-primary/30"}=e,b=n[t],x=l[t]||"",N=null!=b?b:x,[y,f]=(0,r.useState)(String(N)),{parseMapAddress:w}=(0,c.n)({data:n,onDataChange:i});(0,r.useEffect)(()=>{var e;f(String(null!=(e=n[t])?e:x))},[n,t,x]);let v=(0,r.useCallback)(async e=>{if("mapAddress"===t)return void f(await w(e));let a={...n,[t]:e};null==i||i(a)},[t,n,i,w]),C=(0,r.useCallback)(()=>{v(y),null==s||s(n)},[y,v,s,n]),T=(0,r.useCallback)(e=>{e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},[]);if(!o)return u?(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"whitespace-pre-line ".concat(m),style:g,"data-field":t,children:String(N)})}):(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)("span",{className:"whitespace-pre-line ".concat(m),style:g,"data-field":t,children:String(N)})});if("date"===t)return(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)(d,{selected:n.date?new Date(n.date):null,onChange:e=>e&&v(e.toISOString().slice(0,10)),dateFormat:"dd/MM/yyyy",className:"w-full text-center bg-transparent border-none outline-none ".concat(p," focus:bg-white/50 rounded px-0 py-0 m-0 ").concat(m),placeholderText:h,locale:"vi"})});if("time"===t)return(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)(d,{selected:n.time?new Date("1970-01-01T".concat(n.time)):null,onChange:e=>e&&v(e.toTimeString().slice(0,5)),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Gio",dateFormat:"HH:mm",className:"w-full text-center bg-transparent border-none outline-none ".concat(p," focus:bg-white/50 rounded px-0 py-0 m-0 ").concat(m),placeholderText:h})});if("ceremonyDate"===t)return(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)(d,{selected:n.ceremonyDate?new Date(n.ceremonyDate):null,onChange:e=>e&&v(e.toISOString().slice(0,10)),dateFormat:"dd/MM/yyyy",className:"w-full text-center bg-transparent border-none outline-none ".concat(p," focus:bg-white/50 rounded px-0 py-0 m-0 ").concat(m),placeholderText:h,locale:"vi"})});if("ceremonyTime"===t)return(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)(d,{selected:n.ceremonyTime?new Date("1970-01-01T".concat(n.ceremonyTime)):null,onChange:e=>e&&v(e.toTimeString().slice(0,5)),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Gio",dateFormat:"HH:mm",className:"w-full text-center bg-transparent border-none outline-none ".concat(p," focus:bg-white/50 rounded px-0 py-0 m-0 ").concat(m),placeholderText:h})});if(u){let e=t.includes("Address");return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("textarea",{ref:T,value:y,onChange:e=>f(e.target.value),onBlur:C,className:"w-full text-center bg-transparent border-none outline-none focus:bg-white/40 ".concat(p," rounded px-2 py-1 m-0 resize-none ").concat(m),style:{...g,lineHeight:(null==g?void 0:g.lineHeight)||"1.5",minHeight:"2rem",height:"auto"},placeholder:h,rows:e?2:1,onInput:e=>{let t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"}})})}return(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-full",children:(0,a.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),onBlur:C,className:"w-full text-center border-none bg-transparent outline-none focus:outline-none px-0 py-0 m-0 ".concat(m),style:{...g,lineHeight:"inherit"},placeholder:h})})});var h=n(62932);function u(e){let{isEditable:t,data:n,colors:r,EditableText:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-between w-full mt-8 pb-8 px-2 sm:px-4",style:{backgroundColor:"white"},children:[(0,a.jsx)("h2",{className:"mt-6 text-2xl font-pattaya text-center px-2",style:{color:r.primary},children:"Tiệc cưới sẽ tổ chức tại:"}),(0,a.jsxs)("div",{className:"w-full sm:w-4/5 md:w-2/3 max-w-2xl mt-6 px-2",children:[(0,a.jsx)("div",{className:"text-center p-3 sm:p-4 text-xs sm:text-sm font-medium font-helvetica rounded-md break-words",style:{backgroundColor:r.background,color:r.text,wordWrap:"break-word",overflowWrap:"break-word"},children:(0,a.jsx)(l,{field:"address",placeholder:"Nhập địa chỉ hiển thị (VD: Nh\xe0 h\xe0ng ABC, 123 Nguyễn Huệ, Q.1)",multiline:!0})}),t&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-[10px] sm:text-xs font-semibold text-center mb-2",style:{color:r.text,opacity:.8},children:"Link bản đồ (để trống nếu kh\xf4ng muốn hiển thị bản đồ)"}),(0,a.jsx)("div",{className:"text-center p-2 sm:p-3 text-[11px] sm:text-xs font-helvetica rounded-md break-words border-2 border-dashed",style:{backgroundColor:r.background,color:r.text,borderColor:n.mapAddress?r.primary:r.text,opacity:n.mapAddress?1:.7},children:(0,a.jsx)(l,{field:"mapAddress",placeholder:"D\xe1n link Google Maps v\xe0o đ\xe2y để hiển thị bản đồ"})}),(0,a.jsx)("p",{className:"text-center mt-2 text-[9px] sm:text-[10px]",style:{color:r.text,opacity:.6},children:"Hỗ trợ: link Google Maps, tọa độ, hoặc t\xean địa điểm"})]})]}),(t||!1!==n.showMap&&(n.mapAddress||n.address))&&(0,a.jsx)(h.$,{latitude:n.latitude,longitude:n.longitude,address:n.address,mapAddress:n.mapAddress,mapPlaceName:n.mapPlaceName,mapDisplayMode:n.mapDisplayMode,className:"w-full sm:w-4/5 max-w-2xl mt-4 mb-8 rounded-xl md:w-2/3 h-[300px]",style:{border:0},fallbackStyle:{color:r.text},fallbackText:"D\xe1n link Google Maps ở tr\xean để hiển thị bản đồ tại đ\xe2y",showFallback:t})]})}function g(e){let{isEditable:t,data:n,colors:r,fontFamily:l,sectionTitleStyle:o,EditableText:i,mapClassName:s="h-[260px] md:h-[360px] w-full max-w-[340px] md:max-w-[600px] rounded-2xl border border-[#ffffff33]",mapBorderColor:c}=e;return(0,a.jsxs)("section",{className:"relative flex flex-col gap-6 md:gap-8 px-6 md:px-10 pb-12 md:pb-16",children:[(0,a.jsxs)("div",{className:"relative text-center",children:[(0,a.jsx)("h3",{className:"font-normal uppercase text-[20px] md:text-[26px]",style:{...o,fontSize:void 0},children:"TIỆC CƯỚI SẼ TỔ CHỨC TẠI"}),(0,a.jsx)("div",{className:"mx-auto mt-4 max-w-sm md:max-w-[600px] rounded-full px-4 md:px-6 py-2 md:py-3",style:{backgroundColor:r.addressBg,color:r.addressText,fontFamily:l},children:(0,a.jsx)(i,{field:"address",placeholder:"Nhập địa chỉ hiển thị (VD: Nh\xe0 h\xe0ng ABC, 123 Nguyễn Huệ, Q.1)",multiline:!0,className:"text-sm md:text-base"})}),t&&(0,a.jsxs)("div",{className:"mx-auto mt-4 max-w-sm md:max-w-[600px]",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm font-semibold mb-2",style:{color:r.labelText,fontFamily:l},children:"Link bản đồ (để trống nếu kh\xf4ng muốn hiển thị bản đồ)"}),(0,a.jsx)("div",{className:"rounded-lg px-4 md:px-6 py-2 md:py-3 border-2 border-dashed",style:{backgroundColor:r.addressBg,color:r.addressText,fontFamily:l,borderColor:n.mapAddress?r.borderActive:r.borderInactive,opacity:n.mapAddress?1:.7},children:(0,a.jsx)(i,{field:"mapAddress",placeholder:"D\xe1n link Google Maps v\xe0o đ\xe2y để hiển thị bản đồ",multiline:!0,className:"text-xs md:text-sm"})}),(0,a.jsx)("p",{className:"mt-2 text-[10px] md:text-xs",style:{color:r.labelText,fontFamily:l},children:"Hỗ trợ: link Google Maps, Apple Maps, tọa độ, hoặc t\xean địa điểm"})]})]}),(t||!1!==n.showMap&&(n.mapAddress||n.address))&&(0,a.jsxs)("div",{className:"relative flex flex-col items-center gap-4 md:gap-5",children:[(0,a.jsx)("h4",{className:"font-normal uppercase text-[20px] md:text-[26px]",style:{...o,fontSize:void 0},children:"BẢN ĐỒ"}),(0,a.jsx)(h.$,{latitude:n.latitude,longitude:n.longitude,address:n.address,mapAddress:n.mapAddress,mapPlaceName:n.mapPlaceName,mapDisplayMode:n.mapDisplayMode,className:s,style:c?{borderColor:c}:void 0,fallbackClassName:"flex h-[260px] w-full max-w-[340px] flex-col items-center justify-center gap-3 rounded-2xl border border-[#ffffff33] bg-black/20 text-center text-sm",fallbackStyle:{color:r.mapFallbackText},fallbackText:"D\xe1n link Google Maps ở tr\xean để hiển thị bản đồ tại đ\xe2y",showFallback:t})]})]})}},96242:(e,t,n)=>{n.d(t,{XH:()=>u.XH,cI:()=>o,w:()=>u.w,pP:()=>u.pP,ie:()=>u.ie,$Y:()=>u.$Y,Y4:()=>a.Y4,FC:()=>s.FC,X$:()=>s.X$,nb:()=>g.nb,VG:()=>g.VG,$G:()=>i,Lu:()=>s.Lu,J5:()=>d,BP:()=>h,ZN:()=>m.Z});var a=n(28401);let r={[a.Y4.SONGLONG_RED]:{groomName:"Minh Khang",brideName:"Thuỳ Linh",groomFullName:"Nguyễn Minh Khang",brideFullName:"Trần Thuỳ Linh",groomBirthOrder:"Ch\xfa Rể",brideBirthOrder:"C\xf4 D\xe2u",showCeremony:!1},[a.Y4.SONGLONG_GREEN]:{groomName:"Đức Anh",brideName:"Ngọc H\xe2n",groomFullName:"L\xea Đức Anh",brideFullName:"Phạm Ngọc H\xe2n",groomBirthOrder:"Ch\xfa Rể",brideBirthOrder:"C\xf4 D\xe2u",showCeremony:!1},[a.Y4.SONGLONG_BLUE]:{groomName:"Quang Huy",brideName:"Phương Anh",groomFullName:"V\xf5 Quang Huy",brideFullName:"Ho\xe0ng Phương Anh",groomBirthOrder:"Ch\xfa Rể",brideBirthOrder:"C\xf4 D\xe2u",showCeremony:!1},[a.Y4.LONGPHUNG_RED]:{groomName:"Ho\xe0ng Nam",brideName:"Mai Anh",groomFullName:"B\xf9i Ho\xe0ng Nam",brideFullName:"Đặng Mai Anh",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.LONGPHUNG_GREEN]:{groomName:"Thanh T\xf9ng",brideName:"Thảo Nguy\xean",groomFullName:"Đỗ Thanh T\xf9ng",brideFullName:"Ng\xf4 Thảo Nguy\xean",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.LONGPHUNG_BLUE]:{groomName:"Việt H\xf9ng",brideName:"Quỳnh Trang",groomFullName:"Đinh Việt H\xf9ng",brideFullName:"L\xfd Quỳnh Trang",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.LONGPHUNG_BLACK]:{groomName:"Nhật Long",brideName:"Kim Phượng",groomFullName:"V\xf5 Nhật Long",brideFullName:"Huỳnh Kim Phượng",groomBirthOrder:"Trưởng Nam",brideBirthOrder:"\xdat Nữ"},[a.Y4.VUONXUAN_RED]:{groomName:"Bảo Long",brideName:"Kh\xe1nh Vy",groomFullName:"Trương Bảo Long",brideFullName:"Vũ Kh\xe1nh Vy",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.VUONXUAN_GREEN]:{groomName:"Hải Đăng",brideName:"Tuyết Nhi",groomFullName:"Dương Hải Đăng",brideFullName:"Mai Tuyết Nhi",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.VUONXUAN_BLUE]:{groomName:"Tuấn Kiệt",brideName:"Ngọc Trinh",groomFullName:"L\xe2m Tuấn Kiệt",brideFullName:"H\xe0 Ngọc Trinh",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i"},[a.Y4.ANHDAO_PINK]:{groomName:"Trung Hiếu",brideName:"Như \xdd",groomFullName:"Trần Trung Hiếu",brideFullName:"Nguyễn Như \xdd"},[a.Y4.CHIBI_RED]:{groomName:"Thế Bảo",brideName:"Ngọc \xc1nh",groomFullName:"Trần Thế Bảo",brideFullName:"L\xea Ngọc \xc1nh",groomBirthOrder:"\xdat Nam",brideBirthOrder:"\xdat Nữ"},[a.Y4.THANHDIEP_GREEN]:{groomName:"Thanh Diệp",brideName:"Minh T\xe2m",groomFullName:"L\xea Thanh Diệp",brideFullName:"V\xf5 Minh T\xe2m"}};function l(){let e=new Date;e.setMonth(e.getMonth()+1);let t=e.getDay();return e.setDate(e.getDate()+((6-t+7)%7||7)),e.toISOString().slice(0,10)}let o={groomName:"Tiến Đạt",brideName:"Xu\xe2n Mai",groomFullName:"Nguyễn Tiến Đạt",brideFullName:"Trần Xu\xe2n Mai",groomBirthOrder:"Con Trai",brideBirthOrder:"Con G\xe1i",weddingTitle:"Happy Wedding",groomParentTitle:"\xd4ng B\xe0",brideParentTitle:"\xd4ng B\xe0",groomFather:"Nguyễn Văn Tuấn",groomMother:"L\xea Thị Hương",groomAddress:"123 Nguyễn Huệ, Quận 1, TP. Hồ Ch\xed Minh",brideFather:"Trần Văn Khoa",brideMother:"Phạm Thị Kim Oanh",brideAddress:"456 L\xea Lợi, Quận 3, TP. Hồ Ch\xed Minh",ceremonyDate:l(),ceremonyTime:"09:00",ceremonyAddress:"TƯ GIA",date:l(),time:"18:00",address:"Trung T\xe2m Hội Nghị ABC, 789 Điện Bi\xean Phủ, Quận 3, TP. Hồ Ch\xed Minh",thankYouNote:"Sự hiện diện của qu\xfd kh\xe1ch l\xe0 niềm vinh hạnh của gia đ\xecnh ch\xfang t\xf4i!",qrScanText:"Qu\xe9t m\xe3 để gửi mừng cưới",headerGreeting:"Happy Wedding",groomBankBin:"",groomBankCode:"",groomBankName:"",groomBankLogo:"",groomAccountNumber:"",groomAccountName:"",brideBankBin:"",brideBankCode:"",brideBankName:"",brideBankLogo:"",brideAccountNumber:"",brideAccountName:"",galleryImages:[],comments:[],showGuestbook:!1,showCeremony:!1,showMap:!0};function i(e){let t=r[e]||r[a.Y4.SONGLONG_RED];return{...o,...t}}var s=n(12697),c=n(12115);function d(e,t,n,a){let[r,l]=(0,c.useState)(t);return(0,c.useEffect)(()=>{if(!e||!a.current)return void l(window.innerWidth>=768?n:t);let r=()=>{var r;let o=(null==(r=a.current)?void 0:r.offsetWidth)||0;if(0===o)return;let i=window.innerWidth>=768?n:t,s=Math.max(12,.5*i),c=document.createElement("span");c.style.visibility="hidden",c.style.position="absolute",c.style.whiteSpace="nowrap",c.style.fontSize="".concat(i,"px"),c.style.fontFamily='ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',c.textContent=e,document.body.appendChild(c);let d=c.offsetWidth;document.body.removeChild(c),d>o?l(Math.round(Math.max(s,o/d*i*.95))):l(i)},o=setTimeout(r,0),i=()=>r();return window.addEventListener("resize",i),()=>{clearTimeout(o),window.removeEventListener("resize",i)}},[e,t,n,a]),r}var m=n(439);function h(e){let{comments:t=[],onCommentsUpdate:n}=e,[a,r]=(0,c.useState)({name:"",message:""}),[l,o]=(0,c.useState)(!1),[i,s]=(0,c.useState)(!1),d=(0,c.useRef)(null),m=(0,c.useCallback)(async e=>{if(e.preventDefault(),!a.name.trim()||!a.message.trim())return void alert("Vui l\xf2ng nhập t\xean v\xe0 lời ch\xfac!");o(!0);try{let e={id:Date.now().toString(),name:a.name.trim(),message:a.message.trim(),timestamp:new Date().toISOString()},l=[...t,e];n(l),r({name:"",message:""}),s(!0),setTimeout(()=>{s(!1)},3e3)}catch(e){console.error("Failed to submit comment:",e),alert("C\xf3 lỗi xảy ra khi gửi lời ch\xfac. Vui l\xf2ng thử lại!")}finally{o(!1)}},[a,t,n]),h=(0,c.useCallback)(e=>{let t=d.current;if(!t)return;let n=t.selectionStart,a=t.selectionEnd;r(t=>{let r=t.message.substring(0,n)+e+t.message.substring(a);return{...t,message:r}}),setTimeout(()=>{t.focus(),t.setSelectionRange(n+e.length,n+e.length)},0)},[]),u=(0,c.useCallback)(e=>{let t=d.current;if(!t)return;let n=t.selectionStart,a=t.selectionEnd;r(t=>{let r=t.message.substring(0,n),l=r.length>0&&!r.endsWith(" ")?" "+e:e,o=r+l+t.message.substring(a);return{...t,message:o}}),setTimeout(()=>{t.focus();let a=t.value.substring(0,n),r=a.length>0&&!a.endsWith(" "),l=e.length+ +!!r;t.setSelectionRange(n+l,n+l)},0)},[]);return{formState:a,setFormState:r,isSubmitting:l,submitSuccess:i,textareaRef:d,handleSubmit:m,insertEmoji:h,insertCreativeSuggestion:u}}n(24077);var u=n(73402),g=n(61911)}}]);